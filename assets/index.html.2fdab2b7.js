import{_ as e,r as o,o as c,c as i,b as n,d as t,e as s,a as p}from"./app.ba0a858b.js";const l={},u=n("h1",{id:"mvvm-system-\u1100\u1162\u1109\u1165\u11AB\u1112\u1161\u1100\u1175-2",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#mvvm-system-\u1100\u1162\u1109\u1165\u11AB\u1112\u1161\u1100\u1175-2","aria-hidden":"true"},"#"),s(" MVVM System \uAC1C\uC120\uD558\uAE30 (2)")],-1),k={class:"custom-container tip"},r=n("p",{class:"custom-container-title"},"\uD574\uB2F9 \uD3EC\uC2A4\uD2B8\uB294 \uC544\uB798\uC758 \uB0B4\uC6A9\uB4E4\uC744 \uD1A0\uB300\uB85C \uC815\uB9AC\uD55C \uAC83\uC785\uB2C8\uB2E4.",-1),d={href:"https://www.youtube.com/watch?v=r4vOF7WpxgM&t=868s",target:"_blank",rel:"noopener noreferrer"},v=s("\uCF54\uB4DC\uC2A4\uD53C\uCE20 86\uAE30 4\uD68C\uCC28 \uB3D9\uC601\uC0C1"),m=p(`<p>\uAC1D\uCCB4\uC9C0\uD5A5 \uD504\uB85C\uADF8\uB7A8\uC774\uB780 \uCC98\uC74C\uC5D0 \uC774\uB8E8\uACE0\uD558\uC790\uB294 \uBAA9\uD45C\uC5D0\uC11C\uBD80\uD130 <u>\uB369\uC5B4\uB9AC\uC9C4 \uAC83\uC744 \uCC28\uADFC\uCC28\uADFC \uBD84\uB9AC\uD558\uACE0 \uAE4E\uC544\uB0B4\uB294 \uACFC\uC815</u> \uC774\uB2E4. \uADF8\uB798\uC11C \uAC1D\uCCB4\uC9C0\uD5A5 \uAC1C\uBC1C\uC740 \uC560\uC790\uC77C(Agile) \uC18C\uD504\uD2B8\uC6E8\uC5B4 \uAC1C\uBC1C\uACFC \uAD81\uD569\uC774 \uC88B\uB2E4.</p><p>\uAC1D\uCCB4\uC9C0\uD5A5\uC5D0\uC11C \uCF54\uB4DC\uB97C \uAE4E\uC544\uB0B4\uB294 \uAE30\uC900\uC740 <u>\uC5ED\uD560\uACFC \uCC45\uC784</u> \uC774\uB2E4. \uC5ED\uD560\uACFC \uCC45\uC784\uC740 \uBE44\uC2B7\uD558\uC9C0\uB9CC \uB3D9\uC804\uC758 \uC591\uBA74\uACFC \uAC19\uB2E4.</p><div class="custom-container tip"><p class="custom-container-title">\uC5ED\uD560\uACFC \uCC45\uC784</p><ul><li>\uCC45\uC784\uC744 \uC9C4\uB2E4\uB294 \uAC83\uC740 \uCC45\uC784\uC5D0 \uC801\uD569\uD55C \uAD8C\uD55C\uB3C4 \uAC16\uACE0 \uC788\uB2E4\uB294 \uAC83\uC774\uB2E4.</li><li>\uAD8C\uD55C\uC774 \uC788\uB2E4\uB294 \uAC83\uC740 \uAD8C\uD55C\uC5D0 \uC801\uD569\uD55C \uCC45\uC784\uB3C4 \uAC16\uACE0 \uC788\uB2E4\uB294 \uAC83\uC774\uB2E4.</li><li>\uCC45\uC784\uC774 \uC5C6\uB294\uB370 \uAD8C\uD55C\uC774 \uC5C6\uAC70\uB098 \uAD8C\uD55C\uC774 \uC5C6\uB294\uB370 \uCC45\uC784\uC774 \uC788\uB2E4\uBA74 \uBB38\uC81C\uAC00 \uC0DD\uAE34\uB2E4.</li></ul></div><p>\uC778\uAC04\uC758 \uBA38\uB9AC\uB294 \uBCF5\uC7A1\uC131\uC758 \uD55C\uACC4\uAC00 \uC788\uB2E4. \uADF8\uB798\uC11C \uAC1D\uCCB4\uC9C0\uD5A5\uC744 \uD1B5\uD558\uC5EC \uC88B\uC740 \uCF54\uB4DC\uB97C \uB9CC\uB4DC\uB294 \uBC29\uBC95\uC740 \uCF54\uB4DC\uB97C \uC798 \uCABC\uAC1C\uC11C \uC778\uAC04\uC774 \uC778\uC2DD\uD560 \uC218 \uC788\uB294 \uBCF5\uC7A1\uC131 \uB9CC\uD07C \uC218\uC6A9\uD558\uB294 \uAC83\uC774\uB2E4. \uADF8\uB7F0\uB370 \uCABC\uAC1C\uB294 \uAC83\uC774 \uC5B4\uB835\uAE30 \uB54C\uBB38\uC5D0 \uC77C\uAD00\uC131 \uC788\uAC8C \uCABC\uAC1C\uB294 \uBC29\uBC95\uC774 \uC911\uC694\uD558\uB2E4. \uADF8\uB798\uC11C <u>\uC5ED\uD560\uACFC \uCC45\uC784\uC5D0 \uB9E1\uAC8C \uCF54\uB4DC\uB97C \uCABC\uAC1C\uB294 \uC5F0\uC2B5\uC744 \uD574\uC57C \uD55C\uB2E4.</u></p><p>\uC774\uBC88\uC5D0\uB294 \uC5ED\uD560\uACFC \uCC45\uC784\uC5D0 \uB530\uB77C \uCF54\uB4DC\uB97C \uCABC\uAC1C\uACE0 \uAE4E\uC544\uB0B4\uB294 \uACFC\uC815\uC744 \uC0B4\uD3B4\uBCFC \uAC83\uC774\uB2E4.</p><h2 id="\u110B\u1175\u11AB\u1110\u1165\u1111\u1166\u110B\u1175\u1109\u1173-\u1107\u116E\u11AB\u1105\u1175-\u110B\u116F\u11AB\u110E\u1175\u11A8-isp" tabindex="-1"><a class="header-anchor" href="#\u110B\u1175\u11AB\u1110\u1165\u1111\u1166\u110B\u1175\u1109\u1173-\u1107\u116E\u11AB\u1105\u1175-\u110B\u116F\u11AB\u110E\u1175\u11A8-isp" aria-hidden="true">#</a> \uC778\uD130\uD398\uC774\uC2A4 \uBD84\uB9AC \uC6D0\uCE59 (ISP)</h2><p>\uBA3C\uC800 ViewModel\uC5D0 <u>\uC778\uD130\uD398\uC774\uC2A4 \uBD84\uB9AC \uC6D0\uCE59(ISP, Interface Segregation Principle)</u> \uC744 \uC801\uC6A9\uD574\uC57C \uD55C\uB2E4.</p><h3 id="\u110B\u1167\u11A8\u1112\u1161\u11AF\u1100\u116A-\u110E\u1162\u11A8\u110B\u1175\u11B7\u110B\u1166-\u1104\u1161\u1105\u1173\u11AB-\u1107\u116E\u11AB\u1109\u1165\u11A8" tabindex="-1"><a class="header-anchor" href="#\u110B\u1167\u11A8\u1112\u1161\u11AF\u1100\u116A-\u110E\u1162\u11A8\u110B\u1175\u11B7\u110B\u1166-\u1104\u1161\u1105\u1173\u11AB-\u1107\u116E\u11AB\u1109\u1165\u11A8" aria-hidden="true">#</a> \uC5ED\uD560\uACFC \uCC45\uC784\uC5D0 \uB530\uB978 \uBD84\uC11D</h3><p>\uC5EC\uD0DC\uAE4C\uC9C0 \uB9CC\uB4E0 ViewModel\uC740 \uB9E4\uC6B0 heavy \uD55C \uC0C1\uD0DC\uB2E4.</p><img src="https://www.plantuml.com/plantuml/svg/NOyx3i8m44HxdsAL2aeuGGu09VJ6Euai-QVr9YX2t1rJ6AHqe_T66irOrOekCHY1Kvlc0BfxFA-P4UXbY9mLfY5bzTDsQ6trxZYGhPHEUrkMH_ZPSxUM-UAh8a4w4iIyOa_NjXk_kxV2Li6Tpz0U6TM9BvhbJoQVODvcHEBsumC0" alt="uml diagram"><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ViewModel <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> ViewModelListener <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function-variable function">get</span> <span class="token operator">=</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ViewModel</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token keyword">static</span> #subjects <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span>
  <span class="token keyword">static</span> #inited <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">static</span> <span class="token function">notify</span> <span class="token punctuation">(</span><span class="token parameter">vm</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#inited<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#inited <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">vm</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          vm<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          vm<span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function-variable function">descriptor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">,</span>
    <span class="token function">set</span> <span class="token punctuation">(</span>newV<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      v <span class="token operator">=</span> newV
      vm<span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ViewModelValue</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>subKey<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">static</span> <span class="token function-variable function">define</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> category<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>
      obj<span class="token punctuation">,</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r<span class="token punctuation">,</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>r<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> ViewModel<span class="token punctuation">.</span><span class="token function">descriptor</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span>

  subKey <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span> parent <span class="token operator">=</span> <span class="token keyword">null</span>
  styles <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> attributes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> properties <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  #isUpdated <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">;</span> #listeners <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&#39;styles,attributes,properties&#39;</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>v <span class="token operator">||</span> <span class="token keyword">typeof</span> v <span class="token operator">!=</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">invalid object k: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, v:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>v<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
        <span class="token keyword">this</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> ViewModel<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> ViewModel<span class="token punctuation">.</span><span class="token function">descriptor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token keyword">instanceof</span> <span class="token class-name">ViewModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          v<span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">this</span>
          v<span class="token punctuation">.</span>subKey <span class="token operator">=</span> k
          v<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    ViewModel<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">viewmodelUpdated</span> <span class="token punctuation">(</span><span class="token parameter">updated</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> updated<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">addListener</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listeners<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">removeListener</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listeners<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">notify</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listeners<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span><span class="token function">viewmodelUpdated</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#isUpdated<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uADF8\uB7F0\uB370 \uACFC\uC5F0 \uC774 \uCF54\uB4DC\uAC00 \uC815\uB9D0\uB85C ViewModel\uC5D0\uAC8C \uC804\uBD80 \uD544\uC694\uD55C \uAC83\uC77C\uAE4C?</p><p>ViewModel\uC758 \uC6D0\uB798 \uC5ED\uD560\uC740 \uBB3C\uB9AC\uC801\uC778 View(DOM, Android, IOS, ..)\uB97C \uB300\uC2E0\uD558\uC5EC <u>\uC21C\uC218\uD55C \uBA54\uBAA8\uB9AC \uAC1D\uCCB4\uB85C\uC11C\uC758 View(\uAC00\uC0C1\uC758 View)</u> \uB97C \uB9CC\uB4E4\uC5B4\uB0B4\uB294 \uAC83\uC774\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">static</span> #subjects <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span>
<span class="token keyword">static</span> #inited <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token keyword">static</span> <span class="token function">notify</span> <span class="token punctuation">(</span><span class="token parameter">vm</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#inited<span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>#inited <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">vm</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        vm<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        vm<span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

#isUpdated <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">;</span> #listeners <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span> <span class="token comment">// \uBA54\uC18C\uB4DC\uAC00 \uC758\uC874\uD558\uACE0 \uC788\uB294 field</span>
<span class="token function">addListener</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listeners<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token function">removeListener</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listeners<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token function">notify</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listeners<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span><span class="token function">viewmodelUpdated</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#isUpdated<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC704\uC758 Method\uC640 Field\uB294 ViewModel\uC758 \uC5ED\uD560\uC5D0 \uC801\uD569\uD558\uC9C0 \uC54A\uB2E4. \uC774\uAC83\uC740 <u>Observer Pattern\uC5D0\uC11C Subject\uC758 \uC5ED\uD560</u> \uC5D0 \uD574\uB2F9\uD558\uB294 \uBD80\uBD84\uC774\uB2E4. \uADF8\uB798\uC11C \uC774 Method\uC640 \uC774\uAC83\uC5D0 \uC758\uC874\uD558\uACE0 \uC788\uB294 field\uB97C <strong>\uC5ED\uD560\uC5D0 \uB530\uB77C \uBD84\uB9AC</strong>\uC2DC\uCF1C\uC57C \uD55C\uB2E4.</p><h3 id="isp-\u110C\u1165\u11A8\u110B\u116D\u11BC\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#isp-\u110C\u1165\u11A8\u110B\u116D\u11BC\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> ISP \uC801\uC6A9\uD558\uAE30</h3><p>\uAE30\uC874\uC758 ViewModel\uC744 \uB2E4\uC74C\uACFC \uAC19\uC740 \uD615\uD0DC\uB85C \uBCC0\uACBD\uD560 \uAC83\uC774\uB2E4.</p><img src="https://www.plantuml.com/plantuml/svg/RPB1Ri8m38RlVGeBBkp00Pw01s2dQRiW3YPs8LFgLgaBGeXt9qrXILUa7fBlintvLpUjejUkSeLdeoX7n_1Z-V9P4pku5G1l-5Tt-0qqQW23dc0cjThokcYwWxFcOmROWgocFZodVtwTF19jRQiix1FqNDLddl9G3FCIoqICO_J_s0NLd62EEUjaHE_lztkzc2zu3hBgvNT3g4pFxkYEhAyZSMkyRRJsYPHMEDp25mfXkToTB17BFgdXC5RP75b1CZ4rMMTad5rsosecKVOpHoE6rgmbPjfl4RDDF2OO-91auiziYtknOQ7mIpq0" alt="uml diagram"><p>\uBCF4\uB2E4\uC2DC\uD53C <code>add</code>\uC640 <code>clear</code>\uAC00 \uCD94\uAC00\uB418\uC5C8\uB2E4. add\uC640 clear\uB97C \uD1B5\uD574\uC11C \uBD80\uBAA8(ViewModel)\uC5D0\uAC8C \uC5ED\uD560\uC744 \uC704\uC784\uD558\uB3C4\uB85D \uB9CC\uB4E4 \uAC83\uC774\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Javascript\uB294 \uB2E4\uC911 \uC0C1\uC18D\uC774 \uBD88\uAC00\uB2A5\uD558\uAE30 \uB54C\uBB38\uC5D0</span>
<span class="token comment">// ViewModelSubject\uAC00 ViewModelListener\uB97C \uC0C1\uC18D\uBC1B\uC544\uC57C \uD55C\uB2E4.</span>
<span class="token keyword">const</span> ViewModelSubject <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> ViewModelListener <span class="token punctuation">{</span>

  #info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span>
  #listeners <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span>

  <span class="token comment">// add\uC640 clear\uB97C \uD1B5\uD574 \uBD80\uBAA8\uC5D0\uAC8C \uC5ED\uD560\uC744 \uC704\uC784\uD55C\uB2E4.</span>
  <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelValue<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#info<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">clear</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#info<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">addListener</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#listeners<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
    ViewModelSubject<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeListener</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#listeners<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>#listeners<span class="token punctuation">.</span>size<span class="token punctuation">)</span> ViewModelSubject<span class="token punctuation">.</span><span class="token function">unwatch</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">notify</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listeners<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span><span class="token function">viewmodelUpdated</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#info<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><br><br><br><div class="highlight-line">\xA0</div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC544\uC9C1 \uCF54\uB4DC\uC0C1\uC5D0 \uC791\uC131\uD558\uC9C4 \uC54A\uC558\uC9C0\uB9CC <em>addListener</em>\uC5D0\uB294 <code>ViewModelSubject.watch</code>\uAC00 \uC0DD\uACBC\uACE0, <em>removeListener</em>\uC5D0\uB294 <code>ViewModelSubject.unwatch</code>\uAC00 \uC0DD\uACBC\uB2E4.</p><p>\uAE30\uC874\uC5D0\uB294 <code>notify</code>\uB97C \uD1B5\uD574\uC11C \uB370\uC774\uD130\uB97C \uB178\uCD9C \uC2DC\uCF30\uB294\uB370 <u>\uB17C\uB9AC\uC801\uC73C\uB85C \uC0DD\uAC01\uD588\uC744 \uB54C \uC678\uBD80\uC5D0\uC11C \uBA85\uC2DC\uC801\uC73C\uB85C \uC54C\uC544\uC57C \uD558\uB294 \uAC83\uC740 <code>watch</code>\uC640 <code>unwatch</code></u> \uC774\uB2E4. \uADF8\uB798\uC11C watch\uC640 unwatch\uB97C \uB178\uCD9C\uC2DC\uD0A4\uACE0, notify\uB294 \uAC10\uCD94\uB3C4\uB85D \uB9CC\uB4E4\uC5B4\uC57C \uD55C\uB2E4.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>notify mechanism\uC740 \uAC10\uCD94\uACE0, watch\uC640 unwatch\uB97C \uC778\uD130\uD398\uC774\uC2A4\uB85C \uACF5\uAC1C\uD55C\uB2E4.</p></div><p>\uC774\uC81C <code>notify</code>\uB97C \uC0B4\uD3B4\uBD10\uC57C \uD55C\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">static</span> <span class="token function">notify</span> <span class="token punctuation">(</span><span class="token parameter">vm</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#inited<span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>#inited <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">vm</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        vm<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        vm<span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>notify method \uB0B4\uBD80\uC5D0 <code>this.#subject.add</code>\uAC00 \uC788\uB2E4. \uADF8 \uC758\uBBF8\uB294 notify\uAC00 \uB450 \uAC00\uC9C0\uC758 \uC5ED\uD560\uC744 \uC218\uD589\uD558\uACE0 \uC788\uB2E4\uB294 \uAC83\uC774\uACE0, \uC774\uB7F0 \uCF54\uB4DC\uB97C \uC720\uC9C0\uD558\uAC8C \uB420 \uACBD\uC6B0 \uBB38\uC81C\uAC00 \uC0DD\uAE38 \uC218 \uC788\uB2E4. \uAC01\uAC01\uC758 \uBA54\uC18C\uB4DC\uB294 \uAC00\uB2A5\uD55C\uD55C \uD55C \uAC00\uC9C0\uC758 \uC5ED\uD560\uB9CC \uC218\uD589\uD558\uAC8C \uD558\uC5EC <u>\uB2E8\uC77C\uCC45\uC784\uC6D0\uCE59(SCP, Single Responsibility Principle)\uC774 \uC9C0\uCF1C\uC9C0\uB3C4\uB85D</u> \uD574\uC57C\uD55C\uB2E4</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">static</span> #subjects <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span>
  <span class="token keyword">static</span> #inited <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">static</span> <span class="token function">notify</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span>#info<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          v<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          v<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#inited<span class="token punctuation">)</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">watch</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>#inited<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>#inited <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">unwatch</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#inited <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC704\uC5D0\uB3C4 \uC5B8\uAE09 \uD588\uB4EF\uC774 notify mechanism\uC740 \uAC10\uCD94\uACE0 watch\uC640 unwatch\uB97C \uD1B5\uD574 interface\uB85C \uC81C\uACF5\uD574\uC57C \uD55C\uB2E4. \uADF8\uB9AC\uACE0 notify\uB294 \uD558\uB098\uC758 \uC5ED\uD560\uB9CC \uC218\uD589\uD558\uB3C4\uB85D \uD558\uC5EC \uCC45\uC784\uC744 \uBD84\uC0B0\uC2DC\uD0A8\uB2E4.</p><h2 id="\u1109\u1165\u11B7\u1109\u1166\u1112\u1161\u11AB-\u1100\u116F\u11AB\u1112\u1161\u11AB-\u110C\u1169\u110C\u1165\u11BC" tabindex="-1"><a class="header-anchor" href="#\u1109\u1165\u11B7\u1109\u1166\u1112\u1161\u11AB-\u1100\u116F\u11AB\u1112\u1161\u11AB-\u110C\u1169\u110C\u1165\u11BC" aria-hidden="true">#</a> \uC12C\uC138\uD55C \uAD8C\uD55C \uC870\uC815</h2><div class="custom-container tip"><p class="custom-container-title">\uAD8C\uD55C \uC870\uC815\uC774 \uD544\uC694\uD55C \uC774\uC720</p><p>java\uC758 \uAE30\uBCF8 \uAD8C\uD55C\uC740 private \uC774\uACE0, javascript\uC758 \uAE30\uBCF8 \uAD8C\uD55C\uC740 public\uC774\uB2E4.</p><p>\uADF8\uB798\uC11C javascript\uB294 \uAC1C\uBC1C\uC790\uAC00 \uD558\uB098\uD558\uB098 \uAD8C\uD55C\uC744 \uC870\uC815\uD558\uC9C0 \uC54A\uC73C\uBA74 \uAE30\uBCF8\uC801\uC73C\uB85C public\uC774 \uB418\uC11C \uC5C9\uB9DD\uC774 \uB41C\uB2E4. getter, setter \uB4F1\uC774 public \uC73C\uB85C \uB178\uCD9C\uB418\uBA74 \uCF54\uB4DC \uC870\uC791\uC774 \uB9E4\uC6B0 \uC26C\uC6CC\uC9C0\uACE0 \uBB38\uC81C\uAC00 \uC0DD\uAE38 \uC218 \uC788\uB2E4.</p></div><div class="custom-container tip"><p class="custom-container-title">transaction</p><p>transaction\uC774 \uBC1C\uACAC \uB418\uBA74 \uBB34\uC870\uAC74 function\uC73C\uB85C \uD45C\uD604\uD574\uC57C \uD55C\uB2E4. transaction\uC774 \uCF54\uB4DC\uC5D0 \uC11E\uC5EC\uC788\uC744 \uACBD\uC6B0 \uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD560 \uD655\uB960\uC774 \uB192\uB2E4(\uC751\uC6A9 \uD558\uAE30\uAC00 \uC27D\uC9C0 \uC54A\uB2E4).</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ViewModel <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> ViewModelSubject <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">get</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ViewModel</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  styles <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> attributes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> properties <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  #subKey <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
  <span class="token keyword">get</span> <span class="token function">subKey</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#subKey <span class="token punctuation">}</span> <span class="token comment">// read only</span>
  #parent <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">get</span> <span class="token function">parent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#parent <span class="token punctuation">}</span>
  
  <span class="token comment">// code\uC5D0\uC11C  \uAF2D \uD544\uC694\uD55C \uAC83 : transaction.</span>
  <span class="token function">setParent</span> <span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> subKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \uD568\uC218\uB97C \uD1B5\uD574\uC11C transaction\uC744 \uD45C\uD604\uD55C\uB2E4(\uD55C \uBC88\uC5D0 \uC77C\uC5B4\uB098\uB294 \uC77C\uB4E4)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#parent <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#subKey <span class="token operator">=</span> subKey
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function-variable function">descriptor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">,</span>
    <span class="token function">set</span> <span class="token punctuation">(</span>newV<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      v <span class="token operator">=</span> newV
      vm<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ViewModelValue</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>subKey<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">static</span> <span class="token function-variable function">define</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> category<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>
      obj<span class="token punctuation">,</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r<span class="token punctuation">,</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>r<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> ViewModel<span class="token punctuation">.</span><span class="token function">descriptor</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&#39;styles,attributes,properties&#39;</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>v <span class="token operator">||</span> <span class="token keyword">typeof</span> v <span class="token operator">!=</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">invalid object k: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, v:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>v<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
        <span class="token keyword">this</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> ViewModel<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> ViewModel<span class="token punctuation">.</span><span class="token function">descriptor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token keyword">instanceof</span> <span class="token class-name">ViewModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
          <span class="token comment">// transaction\uC744 method\uB85C \uBD84\uB9AC\uD588\uB2E4.</span>
          v<span class="token punctuation">.</span><span class="token function">setParent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">viewmodelUpdated</span> <span class="token punctuation">(</span><span class="token parameter">updated</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> updated<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><div class="highlight-line">\xA0</div><br><br><br><div class="highlight-line">\xA0</div><br><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ViewModel\uC5D0\uC11C \uAC1C\uC120\uB41C \uB0B4\uC6A9\uC740 \uB2E4\uC74C\uACFC \uAC19\uB2E4.</p><ul><li><u>\uAD8C\uD55C \uC870\uC815</u> : subKey, parent\uC5D0 \uB300\uD55C getter\uC640 setter\uB97C \uB9CC\uB4E4\uC5C8\uB2E4.</li><li><u>\uC5ED\uD560/\uCC45\uC784\uC5D0 \uB530\uB978 \uC778\uD130\uD398\uC774\uC2A4 \uBD84\uD560(ISP)</u> : ViewModel\uC740 ViewModelSubject\uB97C \uC0C1\uC18D\uD558\uB3C4\uB85D \uBCC0\uACBD\uD588\uB2E4.</li><li><u>tranaction \uB3C4\uCD9C</u> : parent\uC5D0 \uB300\uD55C transaction \uB2E8\uC704\uB97C \uBD84\uB9AC\uD588\uB2E4.</li></ul><h2 id="visitor-pattern" tabindex="-1"><a class="header-anchor" href="#visitor-pattern" aria-hidden="true">#</a> Visitor Pattern</h2><p><code>Visitor Pattern</code>\uC740 \uAC1D\uCCB4\uC758 \uAD6C\uC870\uC640 \uAE30\uB2A5\uC744 \uBD84\uB9AC\uC2DC\uD0A4\uB294 \uD328\uD134\uC774\uB2E4. \uC774\uAC83\uC744 \uC774\uC6A9\uD558\uC5EC DOM\uC5D0 \uAD00\uB828\uB41C \uAE30\uB2A5\uC744 MVVM\uACFC \uBD84\uB9AC\uC2DC\uD0A4\uB294 \uC791\uC5C5\uC744 \uD560 \uAC83\uC774\uB2E4.</p><p>\uBA3C\uC800 Scanner\uB97C \uC0B4\uD3B4\uBCF4\uC790.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Scanner <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  <span class="token function">scan</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> HTMLElement<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> binder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Binder</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkTiem</span><span class="token punctuation">(</span>binder<span class="token punctuation">,</span> el<span class="token punctuation">)</span>
    <span class="token keyword">const</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span>el<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">]</span>
    <span class="token keyword">let</span> target
    <span class="token keyword">while</span> <span class="token punctuation">(</span>target <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkItem</span><span class="token punctuation">(</span>binder<span class="token punctuation">,</span> target<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">)</span> stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">)</span> stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> binder<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">checkItem</span> <span class="token punctuation">(</span><span class="token parameter">binder<span class="token punctuation">,</span> el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> vm <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;data-viewmodel&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">)</span> binder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BinderItem</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> vm<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Scanner\uC758 \uD575\uC2EC\uC740 <u>ViewModel\uC744 \uC77D\uC5B4\uB4E4\uC5EC\uC11C Binder\uC5D0 \uC804\uB2EC</u> \uD558\uB294 \uAC83\uC774\uB2E4. \uADF8\uB9AC\uACE0 checkItem\uC774 \uADF8\uB7EC\uD55C \uC5ED\uD560\uC744 \uB2F4\uB2F9\uD558\uACE0 \uC788\uB2E4.</p><p>\uC5EC\uAE30\uC11C \uBB38\uC81C\uB418\uB294 \uBD80\uBD84\uC740 <code>scan method</code> \uC774\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token function">scan</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> HTMLElement<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> binder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Binder</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkTiem</span><span class="token punctuation">(</span>binder<span class="token punctuation">,</span> el<span class="token punctuation">)</span>
    <span class="token keyword">const</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span>el<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">]</span>
    <span class="token keyword">let</span> target
    <span class="token keyword">while</span> <span class="token punctuation">(</span>target <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkItem</span><span class="token punctuation">(</span>binder<span class="token punctuation">,</span> target<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">)</span> stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">)</span> stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> binder<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>DOM\uC744 \uC77D\uC5B4 \uB4E4\uC774\uB294 \uBD80\uBD84\uC740 scanner\uC758 \uC5ED\uD560\uC774 \uC544\uB2C8\uACE0 Binder\uC758 \uC5ED\uD560\uB3C4 \uC544\uB2C8\uB2E4. \uADF8\uB798\uC11C Vistor\uB97C \uB9CC\uB4E0 \uD6C4 Vistor\uC5D0\uAC8C DOM Parsing\uC5D0 \uB300\uD55C \uBD80\uBD84\uC744 \uC704\uC784\uD574\uC57C \uD55C\uB2E4. \uC774\uB7F4 \uACBD\uC6B0 Binder, Scanner, ViewModel \uB4F1\uC740 DOM\uACFC \uBD84\uB9AC\uB418\uACE0 \uACB0\uACFC\uC801\uC73C\uB85C \uD604\uC7AC \uC791\uC131 \uC911\uC778 MVVM System\uC740 <u>\uD50C\uB7AB\uD3FC(\uC6F9, \uC548\uB4DC\uB85C\uC774\uB4DC, IOS, ...)\uC5D0 \uB300\uD55C \uC885\uC18D\uC774 \uB290\uC2A8\uD574\uC9C0\uAC8C \uB420 \uAC83\uC774\uB2E4.</u></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Visitor : \uC81C\uC5B4\uB97C Visitor\uC5D0\uAC8C \uC704\uC784\uD55C\uB2E4.</span>
<span class="token keyword">const</span> Visitor <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  <span class="token comment">// target\uC758 \uACBD\uC6B0 HTML\uC778\uC9C0 Canvas\uC778\uC9C0 \uC54C \uC218 \uC5C6\uB2E4. \uADF8\uB798\uC11C \uCD94\uC0C1\uD654 \uC2DC\uCF1C\uC57C \uD55C\uB2E4.</span>
  <span class="token function">visit</span> <span class="token punctuation">(</span>action<span class="token punctuation">,</span> target<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>action<span class="token punctuation">,</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token string">&#39;override&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> DomVisitor <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Visitor <span class="token punctuation">{</span>
  <span class="token comment">// \uC790\uC2DD\uC5D0\uC11C \uAD6C\uCCB4\uC801\uC778 \uD615\uC744 \uC54C\uAC8C \uB418\uB294 \uAC83 : Generic</span>
  <span class="token comment">// \uC5B8\uC5B4\uAC00 \uC5B4\uB5A4 \uAE30\uB2A5\uC744 \uC9C0\uC6D0 \uD558\uB290\uB0D0\uBCF4\uB2E8 \uADF8 \uAC1C\uB150\uC744 \uC5B4\uB5BB\uAC8C \uC801\uC6A9\uD558\uB290\uB0D0\uAC00 \uC911\uC694\uD558\uB2E4.</span>
  <span class="token function">visit</span> <span class="token punctuation">(</span>action<span class="token punctuation">,</span> target <span class="token punctuation">,</span> _0 <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>action<span class="token punctuation">,</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _1 <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \uC81C\uC5B4\uC758 \uCF54\uB4DC\uAC00 Visitor\uC5D0\uAC8C \uBAB0\uB9AC\uAE30 \uB54C\uBB38\uC5D0 \uC81C\uC5B4 \uC5ED\uC804\uC774 \uBC1C\uC0DD\uD55C\uB2E4.</span>
    <span class="token keyword">const</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> curr <span class="token operator">=</span> target<span class="token punctuation">.</span>firstElementChild
    <span class="token keyword">do</span> <span class="token punctuation">{</span>
      <span class="token comment">// loop \uC548\uC5D0\uC11C \uC0C1\uD638\uC791\uC6A9\uC744 \uD574\uC57C \uD55C\uB2E4.</span>
      <span class="token function">action</span><span class="token punctuation">(</span>curr<span class="token punctuation">)</span> <span class="token comment">// template method\uC758 hook\uAC00 \uBE44\uC2B7\uD55C \uC5ED\uD560</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>curr<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">)</span> stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>curr<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>curr<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">)</span> stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>curr<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>curr <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Visitor\uB97C \uC791\uC131\uD588\uC73C\uB2C8, Scanner\uC758 \uCF54\uB4DC\uB97C \uB2E4\uC2DC \uC791\uC131\uD574\uC57C \uD55C\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Scanner <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  #visitor
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">visitor<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>visitor<span class="token punctuation">,</span> DomVisitor<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#visitor <span class="token operator">=</span> visitor
  <span class="token punctuation">}</span>
  <span class="token function">scan</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> _ <span class="token operator">=</span> type9target<span class="token punctuation">,</span> HTMLElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> binder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Binder</span>
    <span class="token comment">// Scanner\uB294 ViewModel\uC744 \uC77D\uC5B4\uB4E4\uC774\uAE30\uB9CC \uD558\uBA74 \uB41C\uB2E4.</span>
    <span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> vm <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;data-viewmodel&#39;</span><span class="token punctuation">)</span> <span class="token comment">// \uCF54\uB4DC\uC758 \uBCC0\uD654 \uC694\uC778\uC740 \uC774 \uBD80\uBD84 \uBC16\uC5D0 \uC5C6\uB2E4</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">)</span> binder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BinderItem</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> vm<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">f</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
    <span class="token comment">// DomScan\uC740 Visitor\uC5D0\uAC8C \uC704\uC784\uD55C\uB2E4</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#visitor<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> target<span class="token punctuation">)</span>
    <span class="token keyword">return</span> binder
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">\uC124\uACC4\uB77C\uB294 \uAC83</p><p>\uC124\uACC4\uB294 \uAC1D\uCCB4\uC758 \uC7AC\uBC30\uCE58\uAC00 \uC544\uB2CC \uCF54\uB4DC\uC758 \uC7AC\uBC30\uCE58\uC774\uB2E4. \uAC1D\uCCB4\uC5D0 \uC791\uC131\uB41C \uCF54\uB4DC\uAC00 \uC815\uB9D0\uB85C \uC774 \uAC1D\uCCB4\uC758 \uAC83\uC778\uC9C0 \uD310\uB2E8\uD560 \uC218 \uC788\uB294 \uB2A5\uB825\uC774 \uC911\uC694\uD558\uB2E4.</p></div><h2 id="\u110E\u116E\u1109\u1161\u11BC-\u1100\u1168\u110E\u1173\u11BC-\u110B\u1175\u11AF\u110E\u1175\u1109\u1175\u110F\u1175\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#\u110E\u116E\u1109\u1161\u11BC-\u1100\u1168\u110E\u1173\u11BC-\u110B\u1175\u11AF\u110E\u1175\u1109\u1175\u110F\u1175\u1100\u1175" aria-hidden="true">#</a> \uCD94\uC0C1 \uACC4\uCE35 \uC77C\uCE58\uC2DC\uD0A4\uAE30</h2><p>\uC758\uC874\uC131\uC740 \uACC4\uCE35 \uAD00\uACC4\uB97C \uBCF4\uACE0 \uC124\uC815\uD574\uC57C \uD55C\uB2E4.</p><ul><li>\uAC1D\uCCB4 \uAC04\uC758 \uACC4\uC57D = \uC758\uC874\uC131</li><li>\uC5B4\uB5A4 \uAC1D\uCCB4\uB97C \uC54C\uACE0 \uC788\uB2E4 = \uC5B4\uB5A4 \uAC1D\uCCB4\uC758 <em>\uC2A4\uD399</em>\uC744 \uC54C\uACE0 \uC788\uB2E4.</li><li><u>\uB2C8\uAC00(Scanner) \uB9DD\uD55C\uB2E4 = \uB098\uB3C4(Binder) \uB9DD\uD55C\uB2E4</u></li></ul><p>\uD604\uC7AC Scanner\uC640 Binder\uC758 \uACBD\uC6B0 <u>\uCD94\uC0C1 \uACC4\uCE35\uC774 \uC77C\uCE58 \uD558\uC9C0 \uC54A\uB294 \uC0C1\uD0DC\uB2E4.</u></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Scanner <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  #visitor
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">visitor<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>visitor<span class="token punctuation">,</span> DomVisitor<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#visitor <span class="token operator">=</span> visitor <span class="token comment">// \uC790\uC2DD \uACC4\uCE35(DomVisitor)\uC744 \uC0AC\uC6A9\uD558\uACE0 \uC788\uB2E4.</span>
  <span class="token punctuation">}</span>
  <span class="token function">scan</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> _ <span class="token operator">=</span> type9target<span class="token punctuation">,</span> HTMLElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> binder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Binder</span>
    <span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> vm <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;data-viewmodel&#39;</span><span class="token punctuation">)</span> 
      <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">)</span> binder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BinderItem</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> vm<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">f</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#visitor<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> target<span class="token punctuation">)</span> <span class="token comment">// \uBD80\uBAA8 \uACC4\uCE35(Visitor)\uC744 \uC0AC\uC6A9\uD558\uACE0 \uC788\uB2E4.</span>
    <span class="token keyword">return</span> binder
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Visitor\uB294 \uACC4\uCE35\uC774 \uB450 \uAC1C(Visitor, DomVisitor)\uACE0, Scanner\uB294 \uACC4\uCE35\uC774 \uD55C \uAC1C\uC774\uAE30 \uB54C\uBB38\uC774\uB2E4.</p><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuIfAJIv9p4lFILK8JaxCoqijGX9noSyDoopEBCb75eI9G9KhwDh1XQ2qWeskBf9U1Iw7rBmKe5q0" alt="uml diagram"><p>\uADF8\uB798\uC11C \uCD94\uC0C1 \uACC4\uCE35\uC740 \uC11C\uB85C \uC77C\uCE58\uB97C \uC2DC\uCF1C\uC918\uC57C \uD55C\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Scanner <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  #visitor
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">visitor<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>visitor<span class="token punctuation">,</span> Visitor<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#visitor <span class="token operator">=</span> visitor
  <span class="token punctuation">}</span>
  <span class="token function">visit</span> <span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#visitor<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> target<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">scan</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">throw</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">override</span><span class="token template-punctuation string">\`</span></span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> DomScanner <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Scanner <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">visitor<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>visitor<span class="token punctuation">,</span> DomVisitor<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span> <span class="token comment">// \uC790\uC2DD\uC740 \uBD80\uBAA8\uB97C \uB300\uCCB4\uD560 \uC218 \uC788\uB2E4. LSP</span>
  <span class="token punctuation">}</span>
  <span class="token function">scan</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> HTMLElement<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> binder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Binder</span>
    <span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> vm <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;data-viewmodel&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">)</span> binder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BinderItem</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> vm<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">f</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> target<span class="token punctuation">)</span>
    <span class="token keyword">return</span> binder
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuIfAJIv9p4lFILLmoSyDJaxCoqijGXB4504g2yiipYp9HnQ4YK2LA-ZQmOMWj8ADhYwINWMuKgWup2A7rBmKeBi0" alt="uml diagram">`,56),b={class:"custom-container tip"},h=n("p",{class:"custom-container-title"},"\uB3C4\uBA54\uC778 \uD328\uD134",-1),g=n("p",null,[n("u",null,"\uBCC0\uD558\uC9C0 \uC54A\uB294 \uBD80\uBD84\uACFC \uBCC0\uD558\uB294 \uBD80\uBD84\uC744 \uB098\uB220\uC57C \uD55C\uB2E4.")],-1),w=n("p",null,"\uCD94\uC0C1 \uD074\uB798\uC2A4(Scanner, Visitor)\uB294 Native\uB97C \uBAA8\uB974\uB294 \uC0C1\uD0DC\uB85C \uC720\uC9C0\uD558\uACE0, Native\uB294 \uAD6C\uD604 \uD074\uB798\uC2A4(DomScanner, DomVisitor)\uC5D0\uAC8C \uC704\uC784\uD55C\uB2E4.",-1),f=s("Reference "),y={href:"https://wikibook.co.kr/peaa/",target:"_blank",rel:"noopener noreferrer"},V=s("\uC5D4\uD130\uD504\uB77C\uC774\uC988 \uC560\uD50C\uB9AC\uCF00\uC774\uC158 \uC544\uD0A4\uD14D\uCC98 \uD328\uD134"),M=p('<ul><li>\uCD94\uC0C1 \uB808\uC774\uC5B4\uB97C \uB098\uB204\uBA74 \uC88B\uC740\uC810 <ul><li>\uC0C8\uB85C\uC6B4 \uBCC0\uD654\uAC00 \uC0DD\uAE30\uAC70\uB098 \uC0C8\uB85C\uC6B4 \uC694\uAD6C\uC0AC\uD56D\uC774 \uC0DD\uACBC\uC744 \uB54C \uC218\uC815\uC774 \uC544\uB2C8\uB77C \uCD94\uAC00\uB85C \uD574\uACB0\uD55C\uB2E4.</li><li>\uCF54\uB4DC\uB97C \uACE0\uCE58\uC9C0 \uC54A\uACE0, \uCF54\uB4DC\uB97C \uCD94\uAC00\uD55C\uB2E4.</li><li>\uC218\uC815\uD558\uC9C0 \uC54A\uACE0 \uD655\uC7A5\uD55C\uB2E4.</li></ul></li><li>\uB2E8\uC77C\uCC45\uC784\uC6D0\uCE59(OCP, Open Close Principle)\uC744 \uC9C0\uD0A4\uAE30 \uC704\uD574\uC11C\uB294 \uCD94\uC0C1\uD654\uAC00 \uD544\uC218\uB2E4.</li></ul><p><strong>SOLID \uC6D0\uCE59\uC740 \uC0AC\uC2E4 \uC124\uACC4\uB97C \uC798 \uD588\uC744 \uB54C \uC5BB\uC5B4\uC9C0\uB294 \uACB0\uACFC\uBB3C\uC774\uB77C\uACE0 \uD560 \uC218 \uC788\uB2E4.</strong></p><h2 id="\u110C\u1165\u11AB\u110E\u1166-\u110F\u1169\u1103\u1173" tabindex="-1"><a class="header-anchor" href="#\u110C\u1165\u11AB\u110E\u1166-\u110F\u1169\u1103\u1173" aria-hidden="true">#</a> \uC804\uCCB4 \uCF54\uB4DC</h2><p>&lt;&lt;&lt; @/CodeSpitz/Object-Oriented-Javascript/04-ISP-Visitor/example.html</p>',4),j={href:"https://github.com/JunilHwang/TIL/blob/master/CodeSpitz/Object-Oriented-Javascript/04-ISP-Visitor/example.html",target:"_blank",rel:"noopener noreferrer"},S=s("github\uC5D0\uC11C \uBCF4\uAE30"),_=p('<h2 id="\u1109\u1165\u11AF\u1100\u1168-\u110C\u1169\u11BC\u1112\u1161\u11B8" tabindex="-1"><a class="header-anchor" href="#\u1109\u1165\u11AF\u1100\u1168-\u110C\u1169\u11BC\u1112\u1161\u11B8" aria-hidden="true">#</a> \uC124\uACC4 \uC885\uD569</h2><h3 id="viewmodel" tabindex="-1"><a class="header-anchor" href="#viewmodel" aria-hidden="true">#</a> ViewModel</h3><p>ViewModelValue\uC758 \uACBD\uC6B0 \uC758\uC874\uD558\uB294 \uAC1D\uCCB4\uAC00 \uB9CE\uAE30 \uB54C\uBB38\uC5D0 \uC218\uC815\uC5D0 \uB300\uD55C \uC704\uD5D8\uC131\uC774 \uAD49\uC7A5\uD788 \uD06C\uB2E4</p><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuKfEB4fH2CjCBVVDJqb5vmQN9cMb9fUWYVfa5fUavgKMeGc79UQKfd9nOIXJiD7LnJGING1L5JPZTEtGxS8m0qE9We825ve8gZqEgNafm6000000" alt="uml diagram"><ul><li>\uB2E8\uBC29\uD5A5 \uC758\uC874\uC131 \uC9C0\uD5A5 <ul><li>\uD604\uC7AC \uC0C1\uD0DC\uC758 \uC7A5\uC810\uC740 <u>\uB2E8 \uBC29\uD5A5 \uC758\uC874\uC131\uB9CC \uC788\uB2E4\uB294 \uAC83</u> \uC774\uB2E4.</li><li>\uAC1D\uCCB4\uB97C \uC124\uACC4 \uD560 \uB54C \uC21C\uD658 \uC758\uC874\uC131\uC774 \uC0DD\uAE30\uC9C0 \uC54A\uB3C4\uB85D \uD56D\uC0C1 \uC8FC\uC758 \uD574\uC57C \uD55C\uB2E4.</li></ul></li><li>\uB3C4\uBA54\uC778 \uBD84\uB9AC <ul><li>ViewModel\uC740 <u>DOM\uC5D0 \uC758\uC874\uC801\uC774\uC9C0 \uC54A\uB2E4.</u></li><li>\uB2E4\uB978 \uC758\uBBF8\uB85C <u>\uD50C\uB7AB\uD3FC\uC5D0 \uC885\uC18D\uC801\uC774\uC9C0 \uC54A\uB2E4.</u></li></ul></li><li>ViewModelValue\uC5D0\uAC8C \uBAA8\uC5EC\uB4E0\uB2E4 <ul><li>\uD654\uC0B4\uD45C\uAC00 \uBAA8\uC778\uB2E4\uB294 \uAC83\uC740, \uBB34\uAC70\uC6B4 \uAC1D\uCCB4\uB77C\uB294 \uC758\uBBF8\uB2E4</li><li>\uBB34\uAC70\uC6B4 \uAC1D\uCCB4\uB294 \uC218\uC815\uC758 \uC5EC\uD30C\uAC00 \uB9E4\uC6B0 \uD06C\uB2E4.</li><li>\uC989, \uC27D\uAC8C \uC218\uC815 \uD558\uBA74 \uC548 \uB418\uB294 \uAC1D\uCCB4\uB2E4.</li></ul></li></ul><h3 id="scanner" tabindex="-1"><a class="header-anchor" href="#scanner" aria-hidden="true">#</a> Scanner</h3><p>Scanner\uC5D0\uB294 Visitor\uB97C \uC0AC\uC6A9 \uD558\uC5EC DOM\uACFC \uAD00\uB828\uB41C \uAE30\uB2A5\uC744 \uBD84\uB9AC\uD588\uB2E4.</p><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuKfEB4fH24vEpCjBBO9mNF9pKVXXcSMP9Va8IHYV2wfAmKPN5raJJ5ZN3guLIiDKmeGTKlDIW6u00000" alt="uml diagram"><ul><li>\uAC04\uC811\uC801\uC778 \uC758\uC874 <ul><li>DomScanner\uC640 DomVisitor\uB294 _\uAC04\uC811\uC801\uC73C\uB85C \uC758\uC874_\uD558\uACE0 \uC788\uB2E4.</li><li>\uC5B4\uCA0C\uB4E0 DomScanner\uB294 DomVisitor\uB97C \uC54C\uACE0 \uC788\uC5B4\uC57C \uD55C\uB2E4.</li></ul></li><li>\uCD94\uC0C1 \uACC4\uCE35 \uC77C\uCE58\uC2DC\uD0A4\uAE30 <ul><li>Scanner\uC640 Visitor\uC758 \uCD94\uC0C1 \uACC4\uCE35\uC744 \uB3D9\uC77C\uD558\uAC8C \uB9CC\uB4E4\uC5B4\uC57C \uD55C\uB2E4.</li><li>\uCD94\uC0C1 \uACC4\uCE35\uC774 \uC77C\uCE58\uD558\uC9C0 \uC54A\uC744 \uACBD\uC6B0, Method\uC758 <strong>\uBCC0\uD654\uC728</strong>\uC774 \uB2EC\uB77C\uC9C0\uAC8C \uB41C\uB2E4.</li><li>Method\uC758 \uBCC0\uD654\uC728\uC774 \uB2EC\uB77C\uC9C8 \uACBD\uC6B0, \uC218\uC815\uC774 \uB354\uC6B1 \uBE48\uBC88\uD558\uAC8C \uBC1C\uC0DD\uD55C\uB2E4.</li><li>\uCD94\uC0C1 \uACC4\uCE35\uC744 \uC77C\uCE58\uC2DC\uD0A4\uBA74 \uC218\uC815 \uB300\uC2E0 <u>\uAE30\uB2A5 \uCD94\uAC00\uB85C \uB300\uCCB4</u> \uD560 \uC218 \uC788\uB2E4.</li></ul></li></ul><h3 id="binder" tabindex="-1"><a class="header-anchor" href="#binder" aria-hidden="true">#</a> Binder</h3><p>Binder\uB294 \uC0C1\uB2F9\uD788 \uC704\uD5D8\uD55C \uAC1D\uCCB4\uC774\uB2E4.</p><img src="https://www.plantuml.com/plantuml/svg/VP9D3i8W48Ntd88BS0DZ6dLZeec9IVS8iy2qaC0qNj-6d_9NNPNtCNqCRnWSSelBF171hQGdfINOi7uAhdKI5pDNUbHEeScRbHuLVEv6mjJ8v_9wWy26tfH3A8mZ7lcqGDdL5M4E-c6D0EVISMUZXGMEa3dftEc1iRwJ5jHLUpRisBROUVmfyR8-X18Ia_My23fXxnVYZTzKcJ092QrucrhEZBBL81Ryo2MElMipRSI_MNcp4kRWjvNttPdC05gkp-qB" alt="uml diagram"><ul><li>Binder\uB294 \uBED7\uC5B4\uB098\uAC04\uB2E4.</li><li>\uD654\uC0B4\uD45C\uAC00 \uBED7\uC5B4 \uB098\uAC00\uB294 \uAC83\uC740, \uC704\uD5D8\uD55C \uAC1D\uCCB4\uB77C\uB294 \uC758\uBBF8\uB2E4.</li><li>Binder\uB97C \uC54C\uACE0 \uC788\uB294 \uAC1D\uCCB4\uB97C \uAC74\uB4DC\uB9B4 \uACBD\uC6B0 \uAE68\uC9C8 \uC218 \uC788\uB2E4.</li><li>\uC81C\uC77C \uBBFC\uAC10\uD558\uACE0 \uC608\uBBFC\uD55C \uAC1D\uCCB4\uAC00 \uB41C\uB2E4.</li></ul><h3 id="\u1111\u1173\u11AF\u1105\u1162\u11BA\u1111\u1169\u11B7-\u1103\u1169\u11A8\u1105\u1175\u11B8\u110C\u1165\u11A8-\u1100\u116E\u110C\u1169" tabindex="-1"><a class="header-anchor" href="#\u1111\u1173\u11AF\u1105\u1162\u11BA\u1111\u1169\u11B7-\u1103\u1169\u11A8\u1105\u1175\u11B8\u110C\u1165\u11A8-\u1100\u116E\u110C\u1169" aria-hidden="true">#</a> \uD50C\uB7AB\uD3FC \uB3C5\uB9BD\uC801 \uAD6C\uC870</h3><p>\uC5EC\uD0DC\uAE4C\uC9C0 \uC791\uC131\uD55C MVVM System\uC740 \uD50C\uB7AB\uD3FC\uC5D0 \uB3C5\uB9BD\uC801\uC774\uB2E4.</p><img src="https://www.plantuml.com/plantuml/svg/VP9D2i8m48NtEKN0TMuWKjIDe208tSTa2f4sWMIArxTj_jf4tMM-lioyladZa5iSXvu8RYKzAYt1-lD3SArZSJP3gEckuzp3LZc59Yj2lL70-sOaz7I6NG4Vu_C50WjwLGuX3KwuvVq8QvSNXC7NTsi4E1UTd8mM5ZX2ujuHgKRGFMErdH9iLT_Qi4Ffi-hnHxAKso6Ka1Ztp7Fw2I_zVFmnzg2CcFYO9fnMcOEZR6eG13zo2M-XiXa_XDji_MThcBUIzp3thTT36j1oUeCV" alt="uml diagram"><p><u>DomScanner, DomVisitor, ConcreateProcessor \uC774\uB807\uAC8C \uC138 \uAC1C\uB9CC DOM\uC5D0 \uB300\uD55C \uC758\uC874\uC131\uC774 \uC788\uB2E4.</u> \uB098\uBA38\uC9C0\uB294 <code>ViewModel</code>\uC744 \uB9CC\uB4DC\uB294 \uAC83\uB4E4\uC774\uB2E4. <strong>\uC989, MVVM\uC758 \uD575\uC2EC\uC740 ViewModel\uC744 \uB9CC\uB4DC\uB294 \uAC83\uC774\uB2E4.</strong> \uADF8\uB798\uC11C DomScanner, DomVisitor, ConcreateProcessor \uB4F1\uB9CC \uAD50\uCCB4\uD558\uBA74 Android, IOS \uC5D0\uB3C4 \uC0AC\uC6A9\uD560 \uC218 \uC788\uB2E4.</p><p><strong>\uC774\uAC83\uC774 \uAC00\uC0C1\uD654(\uCD94\uC0C1\uD654) \uB418\uC5B4 \uC788\uB294 \uB80C\uB354\uB9C1 \uC2DC\uC2A4\uD15C\uC774\uB2E4.</strong></p><p>\uC124\uACC4\uB97C \uD560 \uB54C \uD2B9\uC815\uD55C Domain\uACFC \uAD00\uB828\uB41C \uBD80\uBD84\uC740 \uACA9\uB9AC\uB97C \uD558\uB294 \uAC83\uC744 \uD56D\uC0C1 \uC9C0\uD5A5\uD574\uC57C \uD55C\uB2E4.</p><h2 id="\u110B\u1163\u11A8\u1100\u1161\u11AB\u110B\u1174-\u1103\u1161\u11AB\u110C\u1165\u11B7" tabindex="-1"><a class="header-anchor" href="#\u110B\u1163\u11A8\u1100\u1161\u11AB\u110B\u1174-\u1103\u1161\u11AB\u110C\u1165\u11B7" aria-hidden="true">#</a> \uC57D\uAC04\uC758 \uB2E8\uC810</h2><ul><li>MVVM\uC758 \uD575\uC2EC\uC740 Observer Pattern\uC774\uB2E4.</li><li>Observer Pattern\uC740 \uAD6C\uD604\uACFC \uC124\uACC4\uB3C4 \uC5B4\uB835\uACE0 \uC131\uB2A5 \uC790\uCCB4\uC5D0 \uB300\uD55C \uBE44\uC6A9\uB3C4 \uC788\uB2E4.</li></ul><p>\uADF8\uB798\uC11C \uD604\uC2E4\uC801\uC778 \uB300\uC548\uC73C\uB85C MVVM\uC744 \uC0AC\uC6A9\uD560 \uB54C Observing\uC744 \uD558\uB294 \uAC83 \uBCF4\uB2E4 Binder\uB97C \uC218\uB3D9\uC73C\uB85C calling \uD558\uB294 \uACBD\uC6B0\uAC00 \uC0DD\uAC01\uBCF4\uB2E4 \uB9CE\uB2E4.</p>',22);function E(x,I){const a=o("ExternalLinkIcon");return c(),i("div",null,[u,n("div",k,[r,n("p",null,[n("a",d,[v,t(a)])])]),m,n("div",b,[h,g,w,n("p",null,[n("em",null,[f,n("a",y,[V,t(a)])])])]),M,n("p",null,[n("a",j,[S,t(a)])]),_])}var D=e(l,[["render",E],["__file","index.html.vue"]]);export{D as default};
