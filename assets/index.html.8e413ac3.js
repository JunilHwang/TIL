import{_ as e,r as o,o as c,c as i,a as n,b as t,d as s,e as p}from"./app.9c971e3e.js";const l={},u=n("h1",{id:"mvvm-system-\u1100\u1162\u1109\u1165\u11AB\u1112\u1161\u1100\u1175-1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#mvvm-system-\u1100\u1162\u1109\u1165\u11AB\u1112\u1161\u1100\u1175-1","aria-hidden":"true"},"#"),s(" MVVM System \uAC1C\uC120\uD558\uAE30 (1)")],-1),k={class:"custom-container tip"},r=n("p",{class:"custom-container-title"},"\uD574\uB2F9 \uD3EC\uC2A4\uD2B8\uB294 \uC544\uB798\uC758 \uB0B4\uC6A9\uB4E4\uC744 \uD1A0\uB300\uB85C \uC815\uB9AC\uD55C \uAC83\uC785\uB2C8\uB2E4.",-1),d={href:"https://www.youtube.com/watch?v=D450fPGffTg",target:"_blank",rel:"noopener noreferrer"},v=s("\uCF54\uB4DC\uC2A4\uD53C\uCE20 86\uAE30 3\uD68C\uCC28 \uB3D9\uC601\uC0C1"),m=p(`<p>Strategy, Observer, Composite \uB4F1\uC758 Design Pattern \uC744 \uC774\uC6A9\uD558\uC5EC <a href="CodeSpitz/Object-Oriented-Javascript/02-MVVM">\uC55E\uC11C \uC791\uC131\uD55C MVVM System</a>\uC744 \uAC1C\uC120\uD558\uB294 \uBC29\uBC95\uC5D0 \uB300\uD574 \uAE30\uC220\uD569\uB2C8\uB2E4.</p><h2 id="strategy-pattern" tabindex="-1"><a class="header-anchor" href="#strategy-pattern" aria-hidden="true">#</a> Strategy Pattern</h2><p><code>Strategy(\uC804\uB7B5)</code>\uC774\uB780 \uC27D\uAC8C \uB9D0\uD574\uC11C \uD504\uB85C\uADF8\uB7A8\uC758 \uD575\uC2EC\uC801\uC778 \uBD80\uBD84\uC744 \uC758\uBBF8\uD55C\uB2E4.</p><h3 id="defined" tabindex="-1"><a class="header-anchor" href="#defined" aria-hidden="true">#</a> Defined</h3><ul><li>\uBAA9\uC801\uC744 \uB2EC\uC131\uD558\uAE30 \uC704\uD574 \uC77C\uC744 \uC218\uD589\uD558\uB294 \uBC29\uC2DD, \uBE44\uC988\uB2C8\uC2A4 \uADDC\uCE59, \uBB38\uC81C\uB97C \uD574\uACB0\uD558\uB294 \uC54C\uACE0\uB9AC\uC998 \uB4F1</li><li>Stategy Pattern: <strong>\uC804\uB7B5\uC744 \uC27D\uAC8C \uBC14\uAFC0 \uC218 \uC788\uB3C4\uB85D</strong> \uD574\uC8FC\uB294 \uB514\uC790\uC778 \uD328\uD134</li><li><strong>\uAC19\uC740 \uBB38\uC81C\uB97C \uD574\uACB0\uD558\uB294 \uC5EC\uB7EC \uC54C\uACE0\uB9AC\uC998</strong>\uC774 \uD074\uB798\uC2A4\uBCC4\uB85C \uCEA1\uC290\uD654\uB418\uC5B4 \uC788\uACE0 \uC774\uB4E4\uC774 \uD544\uC694\uD560 \uB54C \uAD50\uCCB4\uD560 \uC218 \uC788\uB3C4\uB85D \uD568</li></ul><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuShCAqajIajCJbK8BYbAB4bDh-HopWUALPGeQEd2nHIi5A2YRwPFUDCo1oxnUkaUXJTDQzxCMlbswfpNtKlqkE1QR6fqTHMKNcrTytP6ovjDMmoLu9eySmjoKdDJGJOR6EBKO8HTWn6NGsfU2j3f0000" alt="uml diagram"><h3 id="strategy-\u1107\u116E\u11AB\u1109\u1165\u11A8-\u1106\u1175\u11BE-\u110E\u116E\u110E\u116E\u11AF" tabindex="-1"><a class="header-anchor" href="#strategy-\u1107\u116E\u11AB\u1109\u1165\u11A8-\u1106\u1175\u11BE-\u110E\u116E\u110E\u116E\u11AF" aria-hidden="true">#</a> Strategy \uBD84\uC11D \uBC0F \uCD94\uCD9C</h3><p>\uC55E\uC11C \uC791\uC131\uD55C MVVM System\uC758 <code>Binder</code>\uB97C \uBD84\uD574\uD574\uBCF4\uBA74 \uB2E4\uC74C\uACFC \uAC19\uB2E4.</p><ul><li><p>\uBA3C\uC800 Binder\uC5D0 \uB300\uD55C <code>Structure(\uC790\uB8CC\uAD6C\uC870)</code> \uBD80\uBD84\uC774\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Binder <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  #items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> BinderItem<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#items<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">viewmodel<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">[</span>item<span class="token punctuation">.</span>viewmodel<span class="token punctuation">]</span><span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span><span class="token punctuation">,</span> el <span class="token operator">=</span> item<span class="token punctuation">.</span>el
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>styles<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span>style<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">)</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>attributes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span>attribute<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">)</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>properties<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">)</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>events<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">on</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">v</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> e<span class="token punctuation">,</span> viewmodel<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>\uC790\uB8CC\uAD6C\uC870</code>\uB97C <code>Control(\uC81C\uC5B4)</code>\uD558\uB294 \uBD80\uBD84\uC774\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Binder <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  #items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> BinderItem<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#items<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">viewmodel<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">[</span>item<span class="token punctuation">.</span>viewmodel<span class="token punctuation">]</span><span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span><span class="token punctuation">,</span> el <span class="token operator">=</span> item<span class="token punctuation">.</span>el
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>styles<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span>style<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">)</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>attributes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span>attribute<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">)</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>properties<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">)</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>events<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">on</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">v</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> e<span class="token punctuation">,</span> viewmodel<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\uB9C8\uC9C0\uB9C9\uC73C\uB85C Binder\uC758 \uD575\uC2EC\uC778 <code>Strategy(\uC804\uB7B5,\uC54C\uACE0\uB9AC\uC998)</code>\uC5D0 \uD574\uB2F9\uD558\uB294 \uBD80\uBD84\uC774\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Binder <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  #items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> BinderItem<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#items<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">viewmodel<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">[</span>item<span class="token punctuation">.</span>viewmodel<span class="token punctuation">]</span><span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span><span class="token punctuation">,</span> el <span class="token operator">=</span> item<span class="token punctuation">.</span>el
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>styles<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span>style<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v
      <span class="token punctuation">)</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>attributes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span>attribute<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v
      <span class="token punctuation">)</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>properties<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v
      <span class="token punctuation">)</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>events<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">on</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">v</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> e<span class="token punctuation">,</span> viewmodel<span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><code>Strategy</code>\uB294 <code>Structure</code>\uB97C \uAC00\uC9C0\uACE0 \uC788\uC5B4\uC57C \uC791\uB3D9\uD558\uB294\uB370 \uC774 \uB54C <code>Composite Pattern</code>\uC744 \uC774\uC6A9\uD558\uC5EC \uD574\uACB0\uD55C\uB2E4. Strategy Pattern\uC744 \uC0AC\uC6A9\uD55C\uB2E4\uB294 \uAC83\uC740 <strong>\uC54C\uACE0\uB9AC\uC998\uC774 \uC0AC\uC6A9\uB41C Code\uB97C object(\uAC1D\uCCB4)\uB85C \uBC14\uAFB8\uB294 \uAC83</strong>\uC774\uB77C\uACE0 \uD560 \uC218 \uC788\uB2E4. \uADF8\uB9AC\uACE0 \uC774 \uB54C <strong>Binder\uB294 Strategy\uC5D0 \uB300\uD55C Dependency</strong>\uAC00 \uC0DD\uAE30\uAC8C \uB41C\uB2E4.</p><h3 id="dependency-injection" tabindex="-1"><a class="header-anchor" href="#dependency-injection" aria-hidden="true">#</a> Dependency Injection</h3><div class="custom-container tip"><p class="custom-container-title">Dependency\uAC00 \uBC1C\uC0DD\uD558\uB294 \uC774\uC720\uC640 Dependency Injection</p><p>\uAC1D\uCCB4\uC9C0\uD5A5\uC5D0\uC11C\uB294 \uC790\uC2E0\uC774 \uAC00\uC9C0\uACE0 \uC788\uB294 \uBB38\uC81C\uB97C \uC678\uBD80\uC5D0 \uC788\uB294 \uAC1D\uCCB4\uC758 \uB3C4\uC6C0(Strategy)\uC744 \uD1B5\uD574 \uD574\uACB0\uD558\uAE30 \uB54C\uBB38\uC5D0 \uC790\uC5F0\uC2A4\uB7FD\uAC8C Dependency\uAC00 \uC0DD\uAE30\uAC8C \uB41C\uB2E4. \uBC18\uB300\uB85C \uC678\uBD80 \uAC1D\uCCB4\uC758 \uB3C4\uC6C0\uC774 \uC5C6\uB2E4\uBA74 \uC2A4\uC2A4\uB85C \uBB38\uC81C\uB97C \uD574\uACB0\uD574\uC57C \uD55C\uB2E4\uB294 \uAC83\uC778\uB370, \uADF8 \uC758\uBBF8\uB294 \uCF54\uB4DC\uC758 \uC218\uC815\uC774 \uBE48\uBC88\uD558\uAC8C \uC77C\uC5B4\uB09C\uB2E4\uB294 \uAC83\uC774\uB2E4.</p><p>\uC758\uC874\uC131\uC774 \uC0DD\uACBC\uC744 \uB54C \uB0B4\uBD80\uC5D0 <code>Sub Type</code>\uC744 \uB9CC\uB4DC\uB294 \uACBD\uC6B0\uAC00 \uC788\uACE0, \uC678\uBD80\uC5D0\uC11C <code>Type\uC744 \uACF5\uAE09(Injection)</code> \uBC1B\uB294 \uACBD\uC6B0\uAC00 \uC788\uB2E4. Sub Type \uC0AC\uC6A9\uC2DC \uACC4\uC18D\uC5D0\uC11C code\uB97C \uC218\uC815 \uD558\uAC8C \uB418\uAE30 \uB54C\uBB38\uC5D0 code\uC5D0\uC11C object\uB85C \uBCC0\uACBD\uD55C \uC758\uBBF8\uAC00 \uC5C6\uC5B4\uC9C0\uAC8C \uB41C\uB2E4. \uB530\uB77C\uC11C type\uC740 \uC678\uBD80\uC5D0\uC11C \uC8FC\uC785 \uBC1B\uC544\uC57C \uD55C\uB2E4. \uC774\uAC83\uC744 <code>DI(Dependency Injection)</code> \uB77C\uACE0 \uD55C\uB2E4. \uADF8\uB798\uC11C Strategy\uB97C \uB3C4\uCD9C\uD558\uB294 \uC21C\uAC04 \uC790\uB3D9\uC73C\uB85C <code>Dependency Injection</code>\uC774 \uC0DD\uAE30\uAC8C \uB41C\uB2E4. <strong>\uBC18\uB300\uB85C Dependency\uB294 \uC788\uB294\uB370 DI\uAC00 \uC0DD\uAE30\uC9C0 \uC54A\uC558\uB2E4\uBA74 \uADF8\uAC83\uC740 \uC798\uBABB\uB41C \uAC83\uC774\uB2E4.</strong></p></div><p>\uC774\uC81C Binder\uC758 Strategy\uAC00 \uBB34\uC5C7\uC778\uC9C0 \uC54C\uC558\uC73C\uB2C8 \uC774\uAC83\uC744 <strong>\uCD94\uCD9C\uD558\uC5EC \uC704\uC784</strong> \uD574\uC57C \uD55C\uB2E4. <strong>\uC774\uB7EC\uD55C \uD589\uC704\uB97C <code>Composition</code>\uC774\uB77C\uACE0 \uD55C\uB2E4.</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Binder\uC758 Strategy\uAC00 \uB420 Class</span>
<span class="token keyword">const</span> Processor <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  category<span class="token punctuation">;</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">category</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>category <span class="token operator">=</span> category
    Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// template method</span>
  <span class="token function">process</span> <span class="token punctuation">(</span>vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">,</span> _0 <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span><span class="token punctuation">,</span>
                         _1 <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">,</span>
                         _2 <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_process</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// hook method</span>
  <span class="token function">_process</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">throw</span> <span class="token string">&#39;override&#39;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uCF54\uB4DC\uB97C \uBCF4\uBA74 <strong>process method\uC758 \uCC45\uC784\uC744 _process method\uC5D0\uAC8C \uC704\uC784</strong>\uD55C\uB2E4. \uC774 \uB54C processor class\uB97C \uC0C1\uC18D \uBC1B\uC544\uC11C _process\uB97C \uAD6C\uD604 \uD558\uAC8C \uB418\uB294 \uB370, <em>\uAD6C\uD604\uB418\uB294 method(_process)</em> \uB97C <code>Hook Method</code>\uB77C\uACE0 \uD55C\uACE0, <em>Hook method(_proces)\uC5D0\uAC8C \uCC45\uC784\uC744 \uC704\uC784\uD558\uAC8C \uB418\uB294 method(process)</em> \uB97C <code>Template Method</code> \uB77C\uACE0 \uD55C\uB2E4.</p>`,15),b=s("\uC774\uAC83\uC744 Template Method Pattern \uC774\uB77C\uACE0 \uD55C\uB2E4. \uC790\uC138\uD55C \uB0B4\uC6A9\uC740 "),h={href:"https://gmlwjd9405.github.io/2018/07/13/template-method-pattern.html",target:"_blank",rel:"noopener noreferrer"},g=s("\uC5EC\uAE30"),f=s("\uB97C \uCC38\uACE0\uD558\uBA74 \uB41C\uB2E4."),w=p(`<hr><ul><li><p><code>process</code></p><ul><li>Template method</li><li>Hook Method\uC5D0\uAC8C \uCC45\uC784\uC744 \uC704\uC784\uD55C\uB2E4.</li></ul></li><li><p><code>_process</code></p><ul><li>Hook method</li><li>template method\uC5D0\uC11C \uD638\uCD9C\uB418\uB294 method</li></ul></li></ul><hr><p><code>Processor</code>\uB97C \uC791\uC131\uD588\uC73C\uBA74, <code>Binder</code>\uB97C \uC218\uC815\uD574\uC57C \uD55C\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Binder <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  #item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span>
  #processors <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// category\uB2F9 \uD55C \uAC1C\uC758 processor\uB97C \uC0AC\uC6A9\uD558\uAC8C \uD558\uAE30 \uC704\uD568</span>
                    <span class="token comment">// \uC790\uB8CC\uAD6C\uC870\uB97C \uC120\uD0DD\uD560 \uB54C \uC2EC\uAC01\uD558\uAC8C \uC0DD\uAC01\uD574\uC57C \uD55C\uB2E4.</span>
                    
  <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> BinderItem<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#item<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  
  <span class="token comment">// Strategy\uB97C \uC8FC\uC785 \uBC1B\uB294\uB2E4.</span>
  <span class="token function">addProcessor</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> Processor<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#processors<span class="token punctuation">[</span>v<span class="token punctuation">.</span>category<span class="token punctuation">]</span> <span class="token operator">=</span> v <span class="token punctuation">}</span>
  
  <span class="token comment">// Render\uC5D0\uC11C \uC8FC\uC785 \uBC1B\uC740 Strategy\uB97C \uC0AC\uC6A9\uD55C\uB2E4.</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">viewmodel<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> processores <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#processors<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#item<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">[</span>item<span class="token punctuation">.</span>viewmodel<span class="token punctuation">]</span><span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span><span class="token punctuation">,</span> el <span class="token operator">=</span> item<span class="token punctuation">.</span>el
      processores<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>pk<span class="token punctuation">,</span> processor<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>vm<span class="token punctuation">[</span>pk<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          processor<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="highlight-lines"><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">\uC54C\uACE0\uB9AC\uC998\uC758 \uC77C\uBC18\uD654(Generic Algorithm)</p><ul><li>structure\uB97C \uB0A8\uAE30\uACE0 Strategy\uC744 type\uC73C\uB85C \uB0B4\uBCF4\uB0B8\uB2E4.</li><li>Binder\uB294 processor\uC758 protocal\uC744 \uC54C\uACE0 \uC788\uB2E4 = \uC758\uC874\uC131\uC774 \uC0DD\uAE34 \uAC83</li><li>\uC774\uB7EC\uD55C \uACFC\uC815\uC744 <strong>\uC54C\uACE0\uB9AC\uC998\uC758 \uC77C\uBC18\uD654(Generic Algorithm)\uB77C\uACE0 \uD568</strong> \u2192 \uC81C\uC77C \uC5B4\uB824\uC6B4 \uBD80\uBD84</li><li>\uC548\uC815\uB41C Generic Algorithm\uC740 protocal\uC774 \uC801\uB2E4 \u2192 \uB9CC\uB4E4\uAE30\uAC00 \uC5B4\uB835\uB2E4.</li></ul></div><p>\uADF8\uB9AC\uACE0 Strategy\uB97C \uC8FC\uC785\uD558\uB294 Client Code\uB294 \uB2E4\uC74C\uACFC \uAC19\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>binder<span class="token punctuation">.</span><span class="token function">addProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">class</span> <span class="token keyword">extends</span> <span class="token class-name">Processor</span> <span class="token punctuation">{</span>
  <span class="token function">_process</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> el<span class="token punctuation">.</span>style<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token string">&#39;styles&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
binder<span class="token punctuation">.</span><span class="token function">addProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">class</span> <span class="token keyword">extends</span> <span class="token class-name">Processor</span> <span class="token punctuation">{</span>
  <span class="token function">_process</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> el<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token string">&#39;attributes&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
binder<span class="token punctuation">.</span><span class="token function">addProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">class</span> <span class="token keyword">extends</span> <span class="token class-name">Processor</span> <span class="token punctuation">{</span>
  <span class="token function">_process</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> el<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token string">&#39;properties&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
binder<span class="token punctuation">.</span><span class="token function">addProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">class</span> <span class="token keyword">extends</span> <span class="token class-name">Processor</span> <span class="token punctuation">{</span>
  <span class="token function">_process</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> el<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">on</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">v</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> e<span class="token punctuation">,</span> vm<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token string">&#39;events&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuKfEB4fHSChCIqajWh03YlAJKukByuku8A8AkdPs2445AmMNr89Ke4HUSgM2PrvMQd99PduUbmDG26WS0000" alt="uml diagram"><ul><li>Binder\uAC00 Processor\uB97C \uC8FC\uC785 \uBC1B\uB294\uB2E4</li><li>\uC758\uC874\uC131\uC740 \uB2E8 \uBC29\uD5A5\uC73C\uB85C\uB9CC \uB418\uC5B4\uC788\uC5B4\uC57C \uD55C\uB2E4.</li><li><s>Binder\uAC00 Processor\uB97C \uC9DD\uC0AC\uB791\uD55C\uB2E4.</s></li></ul><h3 id="\u110C\u1165\u11BC\u1105\u1175" tabindex="-1"><a class="header-anchor" href="#\u110C\u1165\u11BC\u1105\u1175" aria-hidden="true">#</a> \uC815\uB9AC</h3><ul><li>\uAD6C\uC870\uC801\uC778 \uBD80\uBD84\uACFC strategy \uBD80\uBD84\uC744 \uB098\uB208\uB2E4.</li><li>strategy\uC758 \uACF5\uD1B5\uC810\uC744 \uCC3E\uB294\uB2E4.</li><li>strategy\uC640 \uC5B4\uB5BB\uAC8C \uC0C1\uD0DC\uC640 \uAD00\uACC4\uB97C \uB9FA\uB294\uC9C0 \uCC3E\uB294\uB2E4.</li><li>\uC55E\uC5D0\uC11C \uB3C4\uCD9C\uB41C \uD615(type,class,interface)\uC744 \uAC00\uC9C0\uACE0 \uC54C\uACE0\uB9AC\uC998\uC744 \uACE0\uCE58\uB294 \uAC83</li></ul><h2 id="observer-pattern" tabindex="-1"><a class="header-anchor" href="#observer-pattern" aria-hidden="true">#</a> Observer Pattern</h2><p>\uAE30\uC874\uC5D0\uB294 Observer \uB300\uC2E0\uC5D0 Call\uC744 \uC0AC\uC6A9\uD588\uB2E4.</p><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuIfAJIv9p4lFILK8oqmjH-8wPUQbf1OX2VZcfwJcS2Mcf-QLWDL2-5mWfe9kT4PcIafgNYnK5LZGnaPN5sOCX089sTaXT2jOAMXf9IVcv6XfSK44m7eGfaC4TL4qSJcavgK0dGu0" alt="uml diagram"><p>\uC774\uC81C Call\uC744 \uC774\uC6A9\uD558\uB294 \uBC29\uC2DD\uC5D0\uC11C Observer Pattern\uC744 \uC774\uC6A9\uD558\uB294 \uBC29\uC2DD\uC73C\uB85C \uBC14\uAFD4\uC57C \uD55C\uB2E4.</p><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuIfAJIv9p4lFILK8oqmjH-8wPUQbf1OX2VZcfwJcS2Mcf-QLWDL2-5mWfe9kT4PcIafgNYnK5LZGnaPN5sOCX5BGjRD3w5MmKl1FAaujAak5IGDre4ZxvPTafbLoGRXWun0MGmHrKKpaSaZDIm7w2W00" alt="uml diagram"><p>Observer Pattern\uC5D0\uC11C \uC911\uC694\uD55C \uC810\uC740 <strong>\uAC10\uC2DC \uB2F9\uD558\uB294 \uCABD(Subject)\uC774 \uBCC0\uD654\uAC00 \uC0DD\uAE30\uBA74 Observer(Listener)\uC5D0\uAC8C \uBCC0\uD654\uC758 \uB0B4\uC6A9\uC744 \uC54C\uB824\uC918\uC57C \uD55C\uB2E4(Notify).</strong></p><p>Javascript\uB294 \uBCC0\uD654\uC758 \uAC10\uC9C0\uB97C \uC704\uD574 \uC0AC\uC6A9\uD558\uB294 \uB2E4\uC74C\uACFC \uAC19\uC740 API\uAC00 \uC788\uB2E4.</p><ul><li><code>Proxy</code> : Babel\uB85C Converting\uC774 \uB418\uC9C0 \uC54A\uB294\uB2E4 = \uC2E4\uBB34\uC5D0\uC11C \uC0AC\uC6A9\uD560 \uB54C \uC81C\uC57D\uC774 \uC788\uB2E4.</li><li><code>defineProperty</code> : ES5 \uAE4C\uC9C0 \uC9C0\uC6D0\uD55C\uB2E4 = \uC2E4\uBB34 \uC0C1\uC5D0\uC11C \uC0AC\uC6A9\uD560 \uC218 \uC788\uB2E4.</li></ul><p>\uC774\uB7EC\uD55C \uC774\uC720\uB85C defineProperty\uB97C \uC774\uC6A9\uD558\uC5EC \uB9CC\uB4E4\uC5B4\uBCFC \uAC83\uC774\uB2E4.</p><h3 id="listener" tabindex="-1"><a class="header-anchor" href="#listener" aria-hidden="true">#</a> Listener</h3><p>\uC77C\uB2E8 \uBCC0\uD654\uC758 \uAC10\uC9C0\uC5D0 \uB300\uD55C \uB0B4\uC6A9\uC744 \uC218\uC2E0\uD558\uB294 \uAC1D\uCCB4\uAC00 \uD544\uC694\uD558\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ViewModelListener <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  <span class="token function">viewmodelUpdated</span><span class="token punctuation">(</span><span class="token parameter">updated</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">throw</span> <span class="token string">&#39;override&#39;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Listener\uB294 Binder\uC640 ViewModel\uC774 \uC0C1\uC18D \uBC1B\uC544 \uC0AC\uC6A9\uD560 \uAC83\uC774\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Binder <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> ViewModelListner <span class="token punctuation">{</span>
  <span class="token comment">// .. \uC0DD\uB7B5</span>
  <span class="token function">viewmodelUpdated</span> <span class="token punctuation">(</span><span class="token parameter">updated</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> ViewModel <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> ViewModelListner <span class="token punctuation">{</span>
  <span class="token comment">// .. \uC0DD\uB7B5</span>
  <span class="token function">viewmodelUpdated</span> <span class="token punctuation">(</span><span class="token parameter">updated</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ViewModel\uC5D0\uB3C4 Listener\uAC00 \uD544\uC694\uD55C \uC774\uC720\uB294, <u>\uC790\uC2DD\uC758 \uBCC0\uD654\uB97C \uBD80\uBAA8\uAC00 \uC54C\uC544\uC57C \uD558\uAE30 \uB54C\uBB38\uC774\uB2E4.</u></p><h3 id="viewmodel" tabindex="-1"><a class="header-anchor" href="#viewmodel" aria-hidden="true">#</a> ViewModel</h3><p>ViewModel\uC5D0\uC11C notify\uB294</p><p><code>Object.defineProperty</code>\uB294 \uAC1D\uCCB4\uC5D0 \uC9C1\uC811 \uC0C8\uB85C\uC6B4 \uC18D\uC131\uC744 \uC815\uC758\uD558\uAC70\uB098 \uC774\uBBF8 \uC874\uC7AC\uD558\uB294 \uC18D\uC131\uC744 \uC218\uC815\uD55C \uD6C4 \uADF8 \uAC1D\uCCB4\uB97C \uBC18\uD658\uD55C\uB2E4.</p><p><code>Parameter</code>\uB294 \uB2E4\uC74C\uACFC \uAC19\uB2E4.</p><ul><li><code>obj</code> \uC18D\uC131\uC744 \uC815\uC758\uD560 \uAC1D\uCCB4</li><li><code>prop</code> \uC0C8\uB85C \uC815\uC758\uD558\uAC70\uB098 \uC218\uC815\uD558\uB824\uB294 \uC18D\uC131\uC758 \uC774\uB984</li><li><code>descriptor</code> \uC0C8\uB85C \uC815\uC758\uD558\uAC70\uB098 \uC218\uC815\uD558\uB824\uB294 \uC18D\uC131\uC744 \uAE30\uC220\uD558\uB294 \uAC1D\uCCB4 <ul><li><code>enumerable</code> iterator\uC5D0 \uB178\uCD9C \uAC00\uB2A5 \uC5EC\uBD80(true|false)</li><li><code>get</code> prop\uC5D0 \uB300\uD55C getter</li><li><code>set</code> prop\uC5D0 \uB300\uD55C setter</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ViewModel <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> ViewModelListener <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function-variable function">get</span> <span class="token operator">=</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ViewModel</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token keyword">static</span> <span class="token function-variable function">descriptor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token parameter">newV</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// \uAC12\uC744 \uB300\uCCB4 \uD6C4, isUpdated\uC5D0 \uB4F1\uB85D\uD558\uACE0, listener\uC5D0\uAC8C \uBCC0\uACBD\uB41C \uB0B4\uC5ED\uC774 \uC804\uB2EC\uB41C\uB2E4.</span>
      v <span class="token operator">=</span> newV
      vm<span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ViewModelValue</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>subKey<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">static</span> <span class="token function-variable function">defineProperties</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> category<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>
      obj<span class="token punctuation">,</span>
      Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r<span class="token punctuation">,</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>r<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> ViewModel<span class="token punctuation">.</span><span class="token function">descriptor</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
  
  styles<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> attributes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> properties<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  #isUpadated <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">;</span> #listenters <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">;</span>
  
  <span class="token function">constructor</span><span class="token punctuation">(</span>checker<span class="token punctuation">,</span> data<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> obj<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&#39;styles,attributes,properties&#39;</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> ViewModel<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> ViewModel<span class="token punctuation">.</span><span class="token function">descriptor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addListener</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listenters<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">removeListener</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listenters<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">notify</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listenters<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span><span class="token function">viewmodelUpdated</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#isUpadated<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">viewmodelUpdated</span> <span class="token punctuation">(</span><span class="token parameter">updated</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> updated<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC774 \uCF54\uB4DC\uC758 \uD575\uC2EC\uC740 <strong>descriptor\uC5D0 \uC815\uC758\uD55C setter\uB97C \uD1B5\uD574\uC11C \uAC12\uC744 \uB300\uCCB4 \uD55C \uB2E4\uC74C isUpdated\uC5D0 \uBCC0\uACBD\uB41C \uB0B4\uC5ED\uC744 \uCD94\uAC00\uD558\uB294 \uAC83\uC774\uB2E4.</strong></p><h3 id="composite" tabindex="-1"><a class="header-anchor" href="#composite" aria-hidden="true">#</a> Composite</h3><p>Composite Pattern\uC740 <strong>\uC704\uC784\uC744 \uBC18\uBCF5</strong>\uD558\uC5EC \uCDE8\uD569\uD55C\uB2E4 = <strong>\uB3D9\uC801\uC704\uC784</strong></p><p>\uC774\uAC83\uC744 ViewModel\uC5D0 \uC801\uC6A9\uD574\uC57C \uD55C\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ViewModel <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> ViewModelListener <span class="token punctuation">{</span>
  <span class="token keyword">static</span> #subjects <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span>
  <span class="token keyword">static</span> #inited <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">static</span> <span class="token function-variable function">get</span> <span class="token operator">=</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ViewModel</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token keyword">static</span> descriptor <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token comment">/* \uC0DD\uB7B5 */</span><span class="token punctuation">)</span>
  <span class="token keyword">static</span> defineProperties <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token comment">/* \uC0DD\uB7B5 */</span><span class="token punctuation">)</span>
  <span class="token keyword">static</span> <span class="token function">notify</span> <span class="token punctuation">(</span><span class="token parameter">vm</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// \uBCC0\uD654\uB97C \uAC10\uC9C0\uD558\uACE0 Observer(Binder)\uC5D0\uAC8C \uC54C\uB9B0\uB2E4.</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#inited<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#inited <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>#subjects<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">vm</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// \uB9CC\uB4E4\uC5B4\uC9C4 ViewModel\uC5D0 \uB300\uD574 \uBC18\uBCF5\uBB38\uC744 \uB3CC\uB9B0\uB2E4.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// \uBCC0\uACBD\uB41C \uB0B4\uC5ED\uC774 \uC788\uC744 \uACBD\uC6B0</span>
          vm<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Listener\uC5D0\uAC8C \uC54C\uB9AC\uACE0</span>
          vm<span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \uBCC0\uACBD\uB41C \uB0B4\uC5ED\uC744 \uC0AD\uC81C\uD55C\uB2E4.</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  #isUpadated <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">;</span> #listenters <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">;</span>
  styles<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> attributes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> properties<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  subKey <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span> parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  
  <span class="token function">constructor</span><span class="token punctuation">(</span>checker<span class="token punctuation">,</span> data<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> obj<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&#39;styles,attributes,properties&#39;</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> ViewModel<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> ViewModel<span class="token punctuation">.</span><span class="token function">descriptor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token keyword">instanceof</span> <span class="token class-name">ViewModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          v<span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">// \uC5ED \uCC38\uC870\uD560 \uC218 \uC788\uC5B4\uC57C \uD55C\uB2E4. </span>
          v<span class="token punctuation">.</span>subKey <span class="token operator">=</span> k
          v<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// \uC790\uC2DD\uC774 \uBCC0\uD654\uD588\uC744 \uB54C \uBCC0\uD654\uB97C \uC54C\uC544\uCC28\uB9B0\uB2E4.</span>
                              <span class="token comment">// ViewModel \uC740 Subject\uC774\uC790 Listener \uC778 \uACBD\uC6B0\uAC00 \uBE48\uBC88\uD558\uB2E4.</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    ViewModel<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// ViewModel\uC774 \uC0DD\uC131\uB418\uB294 \uC2DC\uC810\uC5D0 \uBCC0\uD654\uC758 \uAC10\uC9C0\uB97C \uC2DC\uC791\uD55C\uB2E4.</span>
    Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// key\uAC00 \uCD94\uAC00/\uC218\uC815/\uC0AD\uC81C \uB418\uC9C0 \uC54A\uB3C4\uB85D \uD55C\uB2E4.</span>
  <span class="token punctuation">}</span>
  <span class="token function">addListener</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listenters<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">removeListener</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ViewModelListener<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listenters<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">notify</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#listenters<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span><span class="token function">viewmodelUpdated</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#isUpadated<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">viewmodelUpdated</span> <span class="token punctuation">(</span><span class="token parameter">updated</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> updated<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#isUpdated<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// subKey\uAC00 \uC0DD\uACBC\uAE30 \uB54C\uBB38\uC5D0 ViewModelValue \uB610\uD55C \uBCC0\uACBD\uD574\uC57C\uD55C\uB2E4. </span>
<span class="token keyword">const</span> ViewModelValue <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  subKey<span class="token punctuation">;</span> category<span class="token punctuation">;</span> k<span class="token punctuation">;</span> v<span class="token punctuation">;</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">subKey<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> subKey<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v <span class="token punctuation">}</span><span class="token punctuation">)</span>
    Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\uC774 \uCF54\uB4DC\uC758 \uD575\uC2EC \uC801\uC778 \uB0B4\uC6A9\uC740 <u>\uCD5C\uC0C1\uC704\uC758 ViewModel\uC5D0\uC11C \uBAA8\uB4E0 ViewModel\uC758 \uBCC0\uACBD\uB0B4\uC5ED\uC744 \uCDE8\uD569\uD558\uC5EC Binder\uC5D0\uAC8C \uC54C\uB9AC\uB294 \uAC83</u> \uC774\uB2E4.</p><h3 id="observer" tabindex="-1"><a class="header-anchor" href="#observer" aria-hidden="true">#</a> Observer</h3><p>\uC774\uC81C Observer \uC5ED\uD560\uC744 \uD558\uB294 Binder\uC758 \uC785\uC7A5\uC744 \uC0B4\uD3B4\uBD10\uC57C \uD55C\uB2E4. Binder\uB294 ViewModel\uC774 \uBCF4\uB0B4\uB294 <strong>notify\uB97C \uAC10\uC9C0</strong>\uD558\uC5EC <em>ViewModel\uC758 \uAC12\uC744 View\uC5D0 Rendering</em> \uD55C\uB2E4.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Binder <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> ViewModelListener <span class="token punctuation">{</span>
  #items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">;</span> #processors <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> BinderItem<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#items<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">addProcessor</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> Processor<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/*\uC0DD\uB7B5*/</span> <span class="token punctuation">}</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">viewmodel<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/*\uC0DD\uB7B5*/</span><span class="token punctuation">}</span>
  <span class="token function">watch</span> <span class="token punctuation">(</span><span class="token parameter">viewmodel<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    viewmodel<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">unwatch</span> <span class="token punctuation">(</span><span class="token parameter">viewmodel<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token function">type</span><span class="token punctuation">(</span>viewmodel<span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    viewmodel<span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">viewmodelUpdated</span> <span class="token punctuation">(</span><span class="token parameter">updated</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> vmName<span class="token punctuation">,</span> el <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      items<span class="token punctuation">[</span>vmName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">type</span><span class="token punctuation">(</span>rootViewModel<span class="token punctuation">[</span>vmName<span class="token punctuation">]</span><span class="token punctuation">,</span> ViewModel<span class="token punctuation">)</span><span class="token punctuation">,</span> el<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    updated<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> subKey<span class="token punctuation">,</span> category<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>items<span class="token punctuation">[</span>subKey<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">const</span> <span class="token punctuation">[</span>vm<span class="token punctuation">,</span> el<span class="token punctuation">]</span> <span class="token operator">=</span> items<span class="token punctuation">[</span>subKey<span class="token punctuation">]</span><span class="token punctuation">,</span> processor <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#processors<span class="token punctuation">[</span>category<span class="token punctuation">]</span>
      <span class="token comment">// injection \uC774 \uC548 \uB418\uC5B4 \uC788\uC744 \uACBD\uC6B0  return</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>el <span class="token operator">||</span> <span class="token operator">!</span>processor<span class="token punctuation">)</span> <span class="token keyword">return</span>
      processor<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br><br><br><br><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><div class="highlight-line">\xA0</div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://www.plantuml.com/plantuml/svg/VP7D2i8m48JlUOezQg47Vqv5fEXP1K4znsQr2scsj6l5jpVHAhQYjp3pxMGsIMlHbLmAgpAs5ZCXTZKiSx9cJtXTiK4BN1ciOAHAZr96fNO2MsRf4-CEiI0NnASrwLXXi3McgfiqY-FNP0AROurLWuE3bYmVAiU2m8stUWKJk9H62vf_o9g5JZVLq-DutjibWQMs5gAeyL8HfDqpF8e-uhzck2Yv9i4_JDkWAuS2xuL_tzmYWNwyNW9R30gviqhzoN_X7G00" alt="uml diagram"><ul><li>Binder\uAC00 RootViewModel\uC744 Observe \uD55C\uB2E4.</li><li>ChildViewModel\uC774 Upated\uB418\uBA74 Update\uB41C \uB0B4\uC6A9\uC744 \uCDE8\uD569\uD558\uC5EC RootViewModel\uC5D0\uAC8C \uBCF4\uB0B8\uB2E4.</li><li>RootViewModel\uC740 \uCDE8\uD569\uB41C \uB0B4\uC6A9\uC744 Binder\uC5D0\uAC8C \uC54C\uB9B0\uB2E4.</li></ul><p>\uC774 \uC124\uACC4\uC5D0\uC11C \uD575\uC2EC\uC774 \uB418\uB294 \uB0B4\uC6A9\uC740, <u>Binder\uB294 RootViewModel\uB9CC Observe \uD558\uACE0 \uC788\uB2E4\uB294 \uAC83\uC774\uB2E4.</u></p><h2 id="client" tabindex="-1"><a class="header-anchor" href="#client" aria-hidden="true">#</a> Client</h2><p>\uC704\uC5D0\uC11C \uC791\uC131\uD55C \uCF54\uB4DC\uB97C \uC9C1\uC811 \uC0AC\uC6A9\uD574\uBCF4\uC790.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// HTML\uC5D0 \uC815\uC758\uB41C viewmodel\uC744 scan\uD55C\uB2E4.</span>
<span class="token keyword">const</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> binder <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#target&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// Binder\uC5D0 Strategy\uB97C \uC8FC\uC785\uD55C\uB2E4.</span>
binder<span class="token punctuation">.</span><span class="token function">addProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token keyword">class</span> <span class="token class-name">extends</span> Processor <span class="token punctuation">{</span>
  <span class="token function">_process</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> el<span class="token punctuation">.</span>style<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&#39;styles&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
binder<span class="token punctuation">.</span><span class="token function">addProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token keyword">class</span> <span class="token class-name">extends</span> Processor <span class="token punctuation">{</span>
  <span class="token function">_process</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> el<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&#39;attributes&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
binder<span class="token punctuation">.</span><span class="token function">addProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token keyword">class</span> <span class="token class-name">extends</span> Processor <span class="token punctuation">{</span>
  <span class="token function">_process</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> el<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> v <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&#39;properties&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
binder<span class="token punctuation">.</span><span class="token function">addProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token keyword">class</span> <span class="token class-name">extends</span> Processor <span class="token punctuation">{</span>
  <span class="token function">_process</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> el<span class="token punctuation">,</span> k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> el<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">on</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token function">v</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> e<span class="token punctuation">,</span> vm<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&#39;events&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ViewModel\uC744 \uB9CC\uB4E0\uB2E4.</span>
<span class="token keyword">const</span> <span class="token function-variable function">getRandom</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">150</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">100</span>
<span class="token keyword">const</span> rootViewModel <span class="token operator">=</span> ViewModel<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">isStop</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token function">changeContents</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ViewModel\uC774 \uBCC0\uACBD\uB418\uBA74, \uC774\uB97C \uCDE8\uD569\uD558\uC5EC RootViewModel\uC5D0\uAC8C \uBCF4\uB0B8\uB2E4.</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>wrapper<span class="token punctuation">.</span>styles<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">rgb(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">\`</span></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>contents<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">wrapper</span><span class="token operator">:</span> ViewModel<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">styles</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">&#39;50%&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">&#39;#ffa&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">cursor</span><span class="token operator">:</span> <span class="token string">&#39;pointer&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">click</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> vm</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        vm<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>isStop <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// rootViewModel.isStop = true \uB85C \uD574\uB3C4 \uB41C\uB2E4. </span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> ViewModel<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">innerHTML</span><span class="token operator">:</span> <span class="token string">&#39;Title&#39;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">contents</span><span class="token operator">:</span> ViewModel<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">innerHTML</span><span class="token operator">:</span> <span class="token string">&#39;Contents&#39;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Binder\uB294 RootViewModel\uB9CC Observing \uD55C\uB2E4.</span>
binder<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>rootViewModel<span class="token punctuation">)</span>

<span class="token comment">// \uD14C\uC2A4\uD2B8\uB97C \uC704\uD558\uC5EC viewmodel\uC758 \uB0B4\uC6A9\uC744 \uC2E4\uC2DC\uAC04\uC73C\uB85C \uBCC0\uACBD\uD558\uB3C4\uB85D \uD55C\uB2E4.</span>
<span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  viewmodel<span class="token punctuation">.</span><span class="token function">chagneContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>viewmodel<span class="token punctuation">.</span>isStop<span class="token punctuation">)</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u110C\u1165\u11AB\u110E\u1166-\u110F\u1169\u1103\u1173" tabindex="-1"><a class="header-anchor" href="#\u110C\u1165\u11AB\u110E\u1166-\u110F\u1169\u1103\u1173" aria-hidden="true">#</a> \uC804\uCCB4 \uCF54\uB4DC</h3><p>&lt;&lt;&lt; @/CodeSpitz/Object-Oriented-Javascript/03-Strategy-Observer/example.html</p>`,50),y={href:"https://github.com/JunilHwang/TIL/blob/master/CodeSpitz/Object-Oriented-Javascript/03-Strategy-Observer/example.html",target:"_blank",rel:"noopener noreferrer"},M=s("github\uC5D0\uC11C \uBCF4\uAE30"),j=p('<h2 id="summary" tabindex="-1"><a class="header-anchor" href="#summary" aria-hidden="true">#</a> Summary</h2><ul><li><p>Strategy Pattern</p><ul><li>Binder\uC758 Strategy\uB97C \uCC3E\uC544\uB0B8 \uD6C4 \uCD94\uCD9C\uD55C\uB2E4.</li><li>Binder\uC5D0 \uC0AC\uC6A9\uB418\uB294 \uAC01\uAC01\uC758 Strategy\uB97C \uB9CC\uB4E4\uC5B4\uC11C \uC8FC\uC785\uD55C\uB2E4. (Dependency Injection)</li><li>\uC774 \uB54C Strategy\uB294 TypeCheck\uB97C \uD558\uACE0, \uAD6C\uD604\uC740 ChildStrategy\uC5D0\uAC8C \uB9E1\uAE34\uB2E4 (Template Method Pattern)</li></ul></li><li><p>Observer Pattern</p><ul><li>ViewModel\uC758 \uBCC0\uACBD \uB0B4\uC5ED\uC744 \uC54C\uB9AC\uB294 ViewModelListener Interface\uB97C \uB9CC\uB4E4\uACE0, ViewModel\uACFC Binder\uAC00 \uC774\uB97C \uC0C1\uC18D\uD558\uC5EC \uAD6C\uD604\uD558\uB3C4\uB85D \uD55C\uB2E4.</li><li>ChildViewModel\uC5D0 \uBCC0\uACBD\uC774 \uC77C\uC5B4\uB098\uBA74 \uC774\uB97C \uCDE8\uD569\uD558\uC5EC RootViewModel\uC5D0\uAC8C \uC54C\uB9B0\uB2E4 (Composite Pattern)</li><li>RootViewModel\uC740 \uCDE8\uD569\uD55C \uB0B4\uC6A9\uC744 Binder\uC5D0\uAC8C \uC54C\uB9B0\uB2E4 (Notify)</li><li>Binder\uB294 RootViewModel\uB9CC Observing \uD55C\uB2E4.</li></ul></li></ul>',2);function V(_,S){const a=o("ExternalLinkIcon");return c(),i("div",null,[u,n("div",k,[r,n("p",null,[n("a",d,[v,t(a)])])]),m,n("p",null,[b,n("a",h,[g,t(a)]),f]),w,n("p",null,[n("a",y,[M,t(a)])]),j])}var O=e(l,[["render",V],["__file","index.html.vue"]]);export{O as default};
