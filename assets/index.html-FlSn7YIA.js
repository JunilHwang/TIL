import{_ as p,r as t,o as e,c,a as n,b as s,d as l,e as o}from"./app-U1nQse06.js";const i="/TIL/assets/1-DwlbfpR9.png",u={},r=n("h1",{id:"with-ai-자동차-경주-미션-피드백-정리",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#with-ai-자동차-경주-미션-피드백-정리"},[n("span",null,"[With AI] 자동차 경주 미션 피드백 정리")])],-1),k=n("div",{class:"custom-container tip"},[n("p",{class:"custom-container-title"},"TIP"),n("p",null,"본 게시물은 AI(Claude)와 함께 작성하였습니다.")],-1),d={href:"https://github.com/woowacourse/javascript-racingcar/pulls?q=is%3Apr+is%3Aclosed+assignee%3AJunilHwang",target:"_blank",rel:"noopener noreferrer"},v=o('<p><img src="'+i+`" alt="자동차 경주 미션 코드리뷰"></p><h2 id="_1-캡슐화-private-필드와-테스트" tabindex="-1"><a class="header-anchor" href="#_1-캡슐화-private-필드와-테스트"><span>1. 캡슐화: Private 필드와 테스트</span></a></h2><h3 id="문제점" tabindex="-1"><a class="header-anchor" href="#문제점"><span>문제점</span></a></h3><p>객체의 내부 상태를 외부에서 직접 접근하여 변경할 수 있는 코드는 객체의 무결성을 해칠 위험이 있습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>position <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 외부에서 상태 직접 변경 시도</span></span>
<span class="line"><span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&quot;myCar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">car<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">// 💥 객체 상태가 예기치 않게 변경될 수 있습니다.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책" tabindex="-1"><a class="header-anchor" href="#해결책"><span>해결책</span></a></h3><p>Private 필드(<code>#</code>)를 사용하여 내부 상태를 외부로부터 보호하고, 필요한 경우 getter 메서드를 통해 접근하도록 제한합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  #name<span class="token punctuation">;</span></span>
<span class="line">  #position<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>#name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>#position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>#position <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#name<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">get</span> <span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#position<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과" tabindex="-1"><a class="header-anchor" href="#얻는-효과"><span>얻는 효과</span></a></h3><ul><li>객체 내부 상태의 안정성 확보</li><li>객체지향 설계 원칙인 캡슐화 강화</li><li>외부의 직접적인 접근을 막아 예상치 못한 부작용 방지</li></ul><h2 id="_2-관심사의-분리-도메인-로직과-i-o" tabindex="-1"><a class="header-anchor" href="#_2-관심사의-분리-도메인-로직과-i-o"><span>2. 관심사의 분리: 도메인 로직과 I/O</span></a></h2><h3 id="문제점-1" tabindex="-1"><a class="header-anchor" href="#문제점-1"><span>문제점</span></a></h3><p>자동차 경주 로직과 사용자 인터랙션(입력 및 출력) 코드가 하나의 클래스에 섞여 있으면 코드의 재사용성과 테스트 용이성이 떨어집니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Race</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> carNames <span class="token operator">=</span> <span class="token keyword">await</span> InputView<span class="token punctuation">.</span><span class="token function">readCarNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> tryCount <span class="token operator">=</span> <span class="token keyword">await</span> InputView<span class="token punctuation">.</span><span class="token function">readTryCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> cars <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createCars</span><span class="token punctuation">(</span>carNames<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    OutputView<span class="token punctuation">.</span><span class="token function">printResultTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">startRace</span><span class="token punctuation">(</span>cars<span class="token punctuation">,</span> tryCount<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">const</span> winners <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">findWinner</span><span class="token punctuation">(</span>cars<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    OutputView<span class="token punctuation">.</span><span class="token function">printWinners</span><span class="token punctuation">(</span>winners<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// ... 기타 도메인 로직 ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-1" tabindex="-1"><a class="header-anchor" href="#해결책-1"><span>해결책</span></a></h3><p>도메인 로직을 담당하는 클래스와 I/O를 처리하는 클래스를 분리하여 각자의 책임 영역을 명확히 합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// 도메인 로직 담당</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Race</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">cars<span class="token punctuation">,</span> tryCount</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>cars <span class="token operator">=</span> cars<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>tryCount <span class="token operator">=</span> tryCount<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tryCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">moveAllCars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">moveAllCars</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>cars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">shouldMove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> car<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">findWinners</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> maxPosition <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>cars<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> car<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cars<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> car<span class="token punctuation">.</span>position <span class="token operator">===</span> maxPosition<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// I/O 및 흐름 제어 담당</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">GameController</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> carNames <span class="token operator">=</span> <span class="token keyword">await</span> InputView<span class="token punctuation">.</span><span class="token function">readCarNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">const</span> tryCount <span class="token operator">=</span> <span class="token keyword">await</span> InputView<span class="token punctuation">.</span><span class="token function">readTryCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">const</span> cars <span class="token operator">=</span> carNames<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token keyword">const</span> race <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Race</span><span class="token punctuation">(</span>cars<span class="token punctuation">,</span> tryCount<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      race<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      OutputView<span class="token punctuation">.</span><span class="token function">printResultTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      OutputView<span class="token punctuation">.</span><span class="token function">printRaceResult</span><span class="token punctuation">(</span>race<span class="token punctuation">.</span>cars<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token keyword">const</span> winners <span class="token operator">=</span> race<span class="token punctuation">.</span><span class="token function">findWinners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      OutputView<span class="token punctuation">.</span><span class="token function">printWinners</span><span class="token punctuation">(</span>winners<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      OutputView<span class="token punctuation">.</span><span class="token function">printError</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-1" tabindex="-1"><a class="header-anchor" href="#얻는-효과-1"><span>얻는 효과</span></a></h3><ul><li>도메인 로직의 순수성 확보 및 재사용성 증대</li><li>다양한 환경에서의 코드 적용 용이성</li><li>단위 테스트 작성의 편리성 향상</li><li>단일 책임 원칙(SRP) 준수</li></ul><h2 id="_3-객체의-책임-상태-검증" tabindex="-1"><a class="header-anchor" href="#_3-객체의-책임-상태-검증"><span>3. 객체의 책임: 상태 검증</span></a></h2><h3 id="문제점-2" tabindex="-1"><a class="header-anchor" href="#문제점-2"><span>문제점</span></a></h3><p>객체 생성에 필요한 유효성 검증 로직이 객체 외부의 유틸리티 함수 등에 위치하면 객체가 자신의 상태에 대한 책임을 온전히 지지 못합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// 외부 유틸리티 함수</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">validateCarNames</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">names</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>names<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token constant">MAX_CAR_NAME_LENGTH</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token constant">ERROR_MESSAGE</span><span class="token punctuation">.</span><span class="token constant">CAR_NAME_LENGTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token comment">// ... 기타 검증 로직 ...</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 컨트롤러에서 검증 호출</span></span>
<span class="line"><span class="token keyword">const</span> carNames <span class="token operator">=</span> <span class="token keyword">await</span> InputView<span class="token punctuation">.</span><span class="token function">readCarNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">validateCarNames</span><span class="token punctuation">(</span>carNames<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> cars <span class="token operator">=</span> carNames<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-2" tabindex="-1"><a class="header-anchor" href="#해결책-2"><span>해결책</span></a></h3><p>객체 생성 시 필요한 검증 로직을 객체 내부로 옮겨 객체 스스로 자신의 상태를 검증하도록 합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token constant">NAME_LENGTH</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token constant">MIN</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">MAX</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  #name<span class="token punctuation">;</span></span>
<span class="line">  #position<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#validateName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>#name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>#position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">#validateName</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MIN</span> <span class="token operator">||</span> name<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MAX</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">자동차 이름은 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MIN</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">~</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MAX</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 글자 사이여야 합니다.</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// ... 추가 검증 로직 ...</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// ... 기타 메서드 ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-2" tabindex="-1"><a class="header-anchor" href="#얻는-효과-2"><span>얻는 효과</span></a></h3><ul><li>객체가 항상 유효한 상태를 유지하도록 보장</li><li>검증 로직의 중복 방지</li><li>객체지향 설계 원칙에 부합</li><li>도메인 지식의 명확한 위치 설정</li></ul><h2 id="_4-유연한-설계-전진-조건-전략-패턴" tabindex="-1"><a class="header-anchor" href="#_4-유연한-설계-전진-조건-전략-패턴"><span>4. 유연한 설계: 전진 조건 전략 패턴</span></a></h2><h3 id="문제점-3" tabindex="-1"><a class="header-anchor" href="#문제점-3"><span>문제점</span></a></h3><p>자동차의 전진 조건이 클래스 내부에 고정되어 있으면 다양한 조건 변화에 유연하게 대처하기 어렵습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter">randomNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>randomNumber <span class="token operator">&gt;=</span> <span class="token constant">MOVE_THRESHOLD</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>#position <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 사용 예시</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">moveCars</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">cars</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  cars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> randomNumber <span class="token operator">=</span> <span class="token function">getRandomNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    car<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>randomNumber<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-3" tabindex="-1"><a class="header-anchor" href="#해결책-3"><span>해결책</span></a></h3><p>전략 패턴을 적용하여 전진 조건을 외부에서 함수 형태로 주입받도록 설계합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter">shouldMove</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">shouldMove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>#position <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 다양한 전진 전략</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">randomMoveStrategy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0.4</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">alwaysMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">neverMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 사용 예시</span></span>
<span class="line">cars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  car<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>randomMoveStrategy<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 다른 전략 적용</span></span>
<span class="line">cars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">car<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  car<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> index <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 짝수 인덱스 차량만 이동</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-3" tabindex="-1"><a class="header-anchor" href="#얻는-효과-3"><span>얻는 효과</span></a></h3><ul><li>다양한 게임 규칙 변화에 대한 높은 유연성</li><li>전진 조건 변경 시 핵심 도메인 코드 수정 최소화</li><li>단위 테스트 용이성 향상</li><li>개방-폐쇄 원칙(OCP) 준수</li></ul><h2 id="_5-명확한-표현-테스트-코드의-가독성" tabindex="-1"><a class="header-anchor" href="#_5-명확한-표현-테스트-코드의-가독성"><span>5. 명확한 표현: 테스트 코드의 가독성</span></a></h2><h3 id="문제점-4" tabindex="-1"><a class="header-anchor" href="#문제점-4"><span>문제점</span></a></h3><p>테스트 코드가 동적 문자열 포맷팅이나 외부 변수에 의존하면 테스트의 의도와 실패 원인을 파악하기 어렵습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">test<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token constant">FAIL_CAR_NAME_TEST_CASES</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&#39;%s&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> <span class="token punctuation">{</span> carNames<span class="token punctuation">,</span> errorMessage <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// given</span></span>
<span class="line">  <span class="token keyword">const</span> race <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Race</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// when &amp; then</span></span>
<span class="line">  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> race<span class="token punctuation">.</span><span class="token function">initCars</span><span class="token punctuation">(</span>carNames<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-4" tabindex="-1"><a class="header-anchor" href="#해결책-4"><span>해결책</span></a></h3><p>테스트 케이스 설명에 구체적인 상황을 명시하고, 테스트 내용을 명확하게 드러냅니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">test<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">[</span><span class="token string">&quot;자동차 이름이 최대 글자 수를 초과하면 에러를 발생시킨다&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;abcdef&quot;</span><span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token constant">ERROR</span><span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">[</span><span class="token string">&quot;자동차 이름이 최소 글자 수 미만이면 에러를 발생시킨다&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token constant">ERROR</span><span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">description<span class="token punctuation">,</span> invalidName<span class="token punctuation">,</span> expectedError</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// given</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// when &amp; then</span></span>
<span class="line">  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>invalidName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span>expectedError<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-4" tabindex="-1"><a class="header-anchor" href="#얻는-효과-4"><span>얻는 효과</span></a></h3><ul><li>테스트 실패 시 빠르게 원인 파악 가능</li><li>테스트 코드 자체로 요구사항 설명 가능</li><li>문서화 효과 및 유지보수 용이성 증대</li></ul><h2 id="_6-응집도-향상-상수-위치의-중요성" tabindex="-1"><a class="header-anchor" href="#_6-응집도-향상-상수-위치의-중요성"><span>6. 응집도 향상: 상수 위치의 중요성</span></a></h2><h3 id="문제점-5" tabindex="-1"><a class="header-anchor" href="#문제점-5"><span>문제점</span></a></h3><p>모든 상수를 하나의 파일에 모아두면 사용되는 코드와 정의된 위치가 멀어져 코드의 응집도가 낮아집니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// constants.js</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ERROR_MESSAGE</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token constant">CAR_NAME_LENGTH</span><span class="token operator">:</span> <span class="token string">&quot;[ERROR] 자동차 이름은 5자 이하로 입력해주세요.&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token constant">TRY_COUNT_RANGE</span><span class="token operator">:</span> <span class="token string">&quot;[ERROR] 시도 횟수는 1 이상 100 이하의 숫자만 가능합니다.&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">// ... 기타 메시지 ...</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">INPUT_MESSAGE</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token constant">ASK_CAR_NAMES</span><span class="token operator">:</span> <span class="token string">&quot;경주할 자동차 이름을 입력하세요 (이름은 쉼표(,) 기준으로 구분합니다).&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token constant">ASK_TRY_COUNT</span><span class="token operator">:</span> <span class="token string">&quot;시도할 횟수를 입력하세요.&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">// ... 기타 메시지 ...</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-5" tabindex="-1"><a class="header-anchor" href="#해결책-5"><span>해결책</span></a></h3><p>상수를 해당 상수가 사용되는 맥락과 가까운 위치에 정의하여 코드의 응집도를 높입니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// domain/Car.js</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token constant">NAME_LENGTH</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token constant">MIN</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">MAX</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token constant">ERROR</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token constant">NAME_LENGTH</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">[ERROR] 자동차 이름은 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MIN</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">자 이상 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MAX</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">자 이하로 입력해주세요.</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// ... 클래스 구현 ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// view/InputView.js</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">InputView</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token constant">MESSAGE</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token constant">ASK_CAR_NAMES</span><span class="token operator">:</span> <span class="token string">&quot;경주할 자동차 이름을 입력하세요 (이름은 쉼표(,) 기준으로 구분합니다).\\n&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token constant">ASK_TRY_COUNT</span><span class="token operator">:</span> <span class="token string">&quot;시도할 횟수를 입력하세요.\\n&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// ... 클래스 구현 ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-5" tabindex="-1"><a class="header-anchor" href="#얻는-효과-5"><span>얻는 효과</span></a></h3><ul><li>관련된 코드끼리 모여 응집도 향상</li><li>코드 변경 시 영향 범위 예측 용이</li><li>상수 이름 충돌 가능성 감소</li><li>코드의 가독성 및 유지보수성 증대</li></ul><h2 id="_7-명확한-분류-커스텀-에러-클래스" tabindex="-1"><a class="header-anchor" href="#_7-명확한-분류-커스텀-에러-클래스"><span>7. 명확한 분류: 커스텀 에러 클래스</span></a></h2><h3 id="문제점-6" tabindex="-1"><a class="header-anchor" href="#문제점-6"><span>문제점</span></a></h3><p>일반적인 <code>Error</code> 객체만 사용하면 에러의 종류를 명확하게 구분하기 어렵고, 에러 처리 로직이 복잡해질 수 있습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token constant">MAX_CAR_NAME_LENGTH</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token constant">ERROR_MESSAGE</span><span class="token punctuation">.</span><span class="token constant">CAR_NAME_LENGTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-6" tabindex="-1"><a class="header-anchor" href="#해결책-6"><span>해결책</span></a></h3><p>에러의 종류별로 커스텀 에러 클래스를 만들어 에러를 더 명확하게 식별하고 처리할 수 있도록 합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// errors/CarError.js</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CarError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;CarError&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CarNameLengthError</span> <span class="token keyword">extends</span> <span class="token class-name">CarError</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">자동차 이름 &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;의 길이는 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>min<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">~</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>max<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">자 사이여야 합니다.</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;CarNameLengthError&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 사용 예시</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MIN</span> <span class="token operator">||</span> name<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MAX</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">CarNameLengthError</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MIN</span><span class="token punctuation">,</span> Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MAX</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 에러 처리</span></span>
<span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">CarNameLengthError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 자동차 이름 길이 관련 처리</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">CarError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 일반적인 자동차 관련 에러 처리</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 예측하지 못한 에러 처리</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-6" tabindex="-1"><a class="header-anchor" href="#얻는-효과-6"><span>얻는 효과</span></a></h3><ul><li>에러의 종류별로 세밀한 처리 가능</li><li>디버깅 시 에러 정보의 명확성 증대</li><li>에러 메시지의 일관성 유지</li><li>타입 시스템과의 통합 용이성 향상</li></ul><h2 id="_8-의미-있는-데이터-테스트-코드-개선" tabindex="-1"><a class="header-anchor" href="#_8-의미-있는-데이터-테스트-코드-개선"><span>8. 의미 있는 데이터: 테스트 코드 개선</span></a></h2><h3 id="문제점-7" tabindex="-1"><a class="header-anchor" href="#문제점-7"><span>문제점</span></a></h3><p>테스트 설명이 추상적이거나 일반적이어서 테스트가 어떤 특정 상황을 검증하는지 명확하지 않습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">test<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">[</span><span class="token string">&quot;자동차는 움직인다.&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;pobi&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">[</span><span class="token string">&quot;자동차는 움직이지 않는다.&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;woni&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> isCanMove<span class="token punctuation">,</span> expectedPosition<span class="token punctuation">,</span> carName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>carName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  car<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>isCanMove<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">expect</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>expectedPosition<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-7" tabindex="-1"><a class="header-anchor" href="#해결책-7"><span>해결책</span></a></h3><p>테스트 설명에 구체적인 조건과 예상되는 결과를 명시하여 테스트의 의도를 명확하게 전달합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">test<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">[</span><span class="token string">&quot;전진 조건이 참이면 자동차의 위치가 1 증가한다&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;pobi&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">[</span><span class="token string">&quot;전진 조건이 거짓이면 자동차의 위치는 변하지 않는다&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;woni&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">description<span class="token punctuation">,</span> moveCondition<span class="token punctuation">,</span> expectedPosition<span class="token punctuation">,</span> carName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>carName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  car<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> moveCondition<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">expect</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>expectedPosition<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-7" tabindex="-1"><a class="header-anchor" href="#얻는-효과-7"><span>얻는 효과</span></a></h3><ul><li>테스트의 목적을 명확하게 이해 가능</li><li>테스트 실패 시 원인 분석 용이</li><li>비즈니스 요구사항과의 연결성 강화</li><li>새로운 개발자의 코드 이해도 향상</li></ul><h2 id="_9-흐름-제어-generator-활용" tabindex="-1"><a class="header-anchor" href="#_9-흐름-제어-generator-활용"><span>9. 흐름 제어: Generator 활용</span></a></h2><h3 id="문제점-8" tabindex="-1"><a class="header-anchor" href="#문제점-8"><span>문제점</span></a></h3><p>복잡한 조건문으로 이루어진 단계별 흐름 제어는 코드의 가독성을 떨어뜨리고 유지보수를 어렵게 만듭니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">async</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token parameter">step <span class="token operator">=</span> App<span class="token punctuation">.</span><span class="token constant">STEP</span><span class="token punctuation">.</span><span class="token constant">CAR_NAME</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>step <span class="token operator">===</span> App<span class="token punctuation">.</span><span class="token constant">STEP</span><span class="token punctuation">.</span><span class="token constant">CAR_NAME</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#readCarNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      step <span class="token operator">=</span> App<span class="token punctuation">.</span><span class="token constant">STEP</span><span class="token punctuation">.</span><span class="token constant">TRY_NUMBER</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>step <span class="token operator">===</span> App<span class="token punctuation">.</span><span class="token constant">STEP</span><span class="token punctuation">.</span><span class="token constant">TRY_NUMBER</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#readTryNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      step <span class="token operator">=</span> App<span class="token punctuation">.</span><span class="token constant">STEP</span><span class="token punctuation">.</span><span class="token constant">RACING</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>step <span class="token operator">===</span> App<span class="token punctuation">.</span><span class="token constant">STEP</span><span class="token punctuation">.</span><span class="token constant">RACING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#race</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      step <span class="token operator">=</span> App<span class="token punctuation">.</span><span class="token constant">STEP</span><span class="token punctuation">.</span><span class="token constant">WINNER</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>step <span class="token operator">===</span> App<span class="token punctuation">.</span><span class="token constant">STEP</span><span class="token punctuation">.</span><span class="token constant">WINNER</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#printWinner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    Output<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-8" tabindex="-1"><a class="header-anchor" href="#해결책-8"><span>해결책</span></a></h3><p>Generator 함수를 사용하여 코드의 흐름을 더 명확하고 순차적으로 표현합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">async</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> gameFlow <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#gameFlowGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">let</span> currentStep <span class="token operator">=</span> gameFlow<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>currentStep<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">await</span> currentStep<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      currentStep <span class="token operator">=</span> gameFlow<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      Output<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      currentStep <span class="token operator">=</span> gameFlow<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 에러 발생 시 현재 단계 재실행</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token operator">*</span><span class="token function">#gameFlowGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#readCarNames</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#readTryNumber</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#race</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">yield</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#printWinner</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-8" tabindex="-1"><a class="header-anchor" href="#얻는-효과-8"><span>얻는 효과</span></a></h3><ul><li>코드의 실행 흐름을 직관적으로 파악 가능</li><li>논리적인 단계를 선형적으로 표현</li><li>각 단계별 실행 제어 용이</li><li>에러 처리 로직 간결화</li></ul><h2 id="_10-명확한-초기화-멤버-변수" tabindex="-1"><a class="header-anchor" href="#_10-명확한-초기화-멤버-변수"><span>10. 명확한 초기화: 멤버 변수</span></a></h2><h3 id="문제점-9" tabindex="-1"><a class="header-anchor" href="#문제점-9"><span>문제점</span></a></h3><p>멤버 변수에 기본값을 할당한 후 생성자에서 다시 초기화하는 것은 코드의 중복을 야기하고, 초기 상태를 혼동시킬 수 있습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  #name <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  #position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#validate</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>#name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-9" tabindex="-1"><a class="header-anchor" href="#해결책-9"><span>해결책</span></a></h3><p>멤버 변수를 선언만 하고 생성자에서 명시적으로 초기화하여 코드의 중복을 제거하고 초기 상태를 명확히 합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  #name<span class="token punctuation">;</span></span>
<span class="line">  #position<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#validate</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>#name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>#position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-9" tabindex="-1"><a class="header-anchor" href="#얻는-효과-9"><span>얻는 효과</span></a></h3><ul><li>코드 중복 제거로 간결성 확보</li><li>객체의 초기 상태에 대한 명확한 이해 제공</li><li>생성자에서의 검증 및 할당 순서 보장</li><li>잠재적인 버그 발생 가능성 감소</li></ul><h2 id="_11-간결한-표현-배열-메서드-활용" tabindex="-1"><a class="header-anchor" href="#_11-간결한-표현-배열-메서드-활용"><span>11. 간결한 표현: 배열 메서드 활용</span></a></h2><h3 id="문제점-10" tabindex="-1"><a class="header-anchor" href="#문제점-10"><span>문제점</span></a></h3><p>전통적인 <code>for</code> 루프를 사용하여 배열을 처리하는 코드는 길어지고, 인덱스 관리로 인한 실수가 발생할 수 있습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#tryCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#getRoundResult</span><span class="token punctuation">(</span>randomNumbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">return</span> results<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-10" tabindex="-1"><a class="header-anchor" href="#해결책-10"><span>해결책</span></a></h3><p><code>Array.from</code>과 <code>map</code>과 같은 배열 메서드를 활용하여 코드를 더 간결하고 명확하게 작성합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#tryCount <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span>
<span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#getRoundResult</span><span class="token punctuation">(</span>randomNumbers<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-10" tabindex="-1"><a class="header-anchor" href="#얻는-효과-10"><span>얻는 효과</span></a></h3><ul><li>코드의 길이를 줄여 가독성 향상</li><li>개발자의 의도를 더 명확하게 표현</li><li>인덱스 관리의 복잡성 감소 및 오류 방지</li><li>함수형 프로그래밍 스타일 적용</li></ul><h2 id="_12-논리적-단순화-불필요한-조건문-제거" tabindex="-1"><a class="header-anchor" href="#_12-논리적-단순화-불필요한-조건문-제거"><span>12. 논리적 단순화: 불필요한 조건문 제거</span></a></h2><h3 id="문제점-11" tabindex="-1"><a class="header-anchor" href="#문제점-11"><span>문제점</span></a></h3><p>조건식 자체가 불리언 값을 반환하는데 불필요하게 <code>if</code> 문을 사용하여 동일한 결과를 반환하는 코드는 장황합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token function">isMove</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&gt;=</span> Car<span class="token punctuation">.</span><span class="token constant">MOVE_THRESHOLD</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-11" tabindex="-1"><a class="header-anchor" href="#해결책-11"><span>해결책</span></a></h3><p>조건식을 직접 반환하여 코드를 더 간결하고 이해하기 쉽게 만듭니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token function">isMove</span><span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> number <span class="token operator">&gt;=</span> Car<span class="token punctuation">.</span><span class="token constant">MOVE_THRESHOLD</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-11" tabindex="-1"><a class="header-anchor" href="#얻는-효과-11"><span>얻는 효과</span></a></h3><ul><li>코드의 간결성 및 가독성 향상</li><li>개발자의 의도를 명확하게 전달</li><li>유지보수 용이성 증대</li></ul><h2 id="_13-명확한-의미-전달-에러-메시지-네이밍" tabindex="-1"><a class="header-anchor" href="#_13-명확한-의미-전달-에러-메시지-네이밍"><span>13. 명확한 의미 전달: 에러 메시지 네이밍</span></a></h2><h3 id="문제점-12" tabindex="-1"><a class="header-anchor" href="#문제점-12"><span>문제점</span></a></h3><p>에러 메시지 상수의 이름이 너무 일반적이어서 어떤 종류의 오류를 나타내는지 구체적으로 알기 어렵습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">static</span> <span class="token function">#validateName</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> CarValidator<span class="token punctuation">.</span><span class="token constant">MIN_NAME_LENGTH</span> <span class="token operator">||</span></span>
<span class="line">      name<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> CarValidator<span class="token punctuation">.</span><span class="token constant">MAX_NAME_LENGTH</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>CarValidator<span class="token punctuation">.</span><span class="token constant">ERROR_MESSAGE</span><span class="token punctuation">.</span>nameLength<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-12" tabindex="-1"><a class="header-anchor" href="#해결책-12"><span>해결책</span></a></h3><p>에러 메시지 상수의 이름을 더 구체적으로 작성하고, 관련 클래스나 기능별로 네임스페이스를 활용하여 의미를 명확히 합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">static</span> NameValidation <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">Error</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token constant">TOO_SHORT</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">[ERROR] 자동차 이름은 최소 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Car<span class="token punctuation">.</span><span class="token constant">MIN_NAME_LENGTH</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">자 이상이어야 합니다.</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token constant">TOO_LONG</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">[ERROR] 자동차 이름은 최대 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Car<span class="token punctuation">.</span><span class="token constant">MAX_NAME_LENGTH</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">자 이하여야 합니다.</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">static</span> <span class="token function">#validateName</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> Car<span class="token punctuation">.</span><span class="token constant">MIN_NAME_LENGTH</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>Car<span class="token punctuation">.</span>NameValidation<span class="token punctuation">.</span>Error<span class="token punctuation">.</span><span class="token constant">TOO_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> Car<span class="token punctuation">.</span><span class="token constant">MAX_NAME_LENGTH</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>Car<span class="token punctuation">.</span>NameValidation<span class="token punctuation">.</span>Error<span class="token punctuation">.</span><span class="token constant">TOO_LONG</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-12" tabindex="-1"><a class="header-anchor" href="#얻는-효과-12"><span>얻는 효과</span></a></h3><ul><li>오류의 종류를 명확하게 식별 가능</li><li>상수 이름의 일관성 유지</li><li>코드 탐색 및 이해 용이성 증대</li><li>유지보수 효율성 향상</li></ul><h2 id="_14-설계의-일관성-도메인-상수-위치" tabindex="-1"><a class="header-anchor" href="#_14-설계의-일관성-도메인-상수-위치"><span>14. 설계의 일관성: 도메인 상수 위치</span></a></h2><h3 id="문제점-13" tabindex="-1"><a class="header-anchor" href="#문제점-13"><span>문제점</span></a></h3><p>도메인과 관련된 상수가 도메인 클래스 외부에 정의되어 있으면 코드의 응집도가 떨어지고, 상수의 의미를 파악하기 위해 여러 파일을 탐색해야 할 수 있습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// constants.js</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MAX_CAR_NAME_LENGTH</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MIN_CAR_NAME_LENGTH</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MOVE_THRESHOLD</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Car.js</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">MAX_CAR_NAME_LENGTH</span><span class="token punctuation">,</span> <span class="token constant">MIN_CAR_NAME_LENGTH</span><span class="token punctuation">,</span> <span class="token constant">MOVE_THRESHOLD</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../constants.js&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">#validate</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token constant">MAX_CAR_NAME_LENGTH</span> <span class="token operator">||</span> name<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token constant">MIN_CAR_NAME_LENGTH</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;자동차 이름의 길이가 올바르지 않습니다.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter">randomNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>randomNumber <span class="token operator">&gt;=</span> <span class="token constant">MOVE_THRESHOLD</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>#position <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-13" tabindex="-1"><a class="header-anchor" href="#해결책-13"><span>해결책</span></a></h3><p>도메인과 관련된 상수를 해당 도메인 클래스 내부에 <code>static</code> 필드로 정의하여 코드의 응집도를 높이고 의미를 명확히 합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token constant">NAME_LENGTH</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token constant">MIN</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">MAX</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token constant">MOVE_THRESHOLD</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  #name<span class="token punctuation">;</span></span>
<span class="line">  #position<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">#validate</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MAX</span> <span class="token operator">||</span> name<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> Car<span class="token punctuation">.</span><span class="token constant">NAME_LENGTH</span><span class="token punctuation">.</span><span class="token constant">MIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;자동차 이름의 길이가 올바르지 않습니다.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter">randomNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>randomNumber <span class="token operator">&gt;=</span> Car<span class="token punctuation">.</span><span class="token constant">MOVE_THRESHOLD</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>#position <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-13" tabindex="-1"><a class="header-anchor" href="#얻는-효과-13"><span>얻는 효과</span></a></h3><ul><li>도메인 지식의 응집성 강화</li><li>관련 코드의 локальность 향상으로 유지보수 용이</li><li>클래스와 상수 간의 관계 명확화</li><li>코드 이해도 향상</li></ul><h2 id="_15-테스트-용이성-의존성-주입-활용" tabindex="-1"><a class="header-anchor" href="#_15-테스트-용이성-의존성-주입-활용"><span>15. 테스트 용이성: 의존성 주입 활용</span></a></h2><h3 id="문제점-14" tabindex="-1"><a class="header-anchor" href="#문제점-14"><span>문제점</span></a></h3><p>테스트에서 <code>Math.random</code>과 같은 전역 객체의 동작을 모의(mocking)하는 방식은 테스트 코드를 불안정하게 만들고, 도메인 코드의 구현 세부 사항에 테스트가 의존하게 됩니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// Race.js</span></span>
<span class="line"><span class="token function">race</span><span class="token punctuation">(</span><span class="token parameter">cars</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  cars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> shouldMove <span class="token operator">=</span> Car<span class="token punctuation">.</span><span class="token function">shouldMove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 내부에서 Math.random 사용</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>shouldMove<span class="token punctuation">)</span> car<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Race.test.js</span></span>
<span class="line"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;레이싱 게임을 진행한다&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> cars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&#39;pobi&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&#39;woni&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  jest<span class="token punctuation">.</span><span class="token function">spyOn</span><span class="token punctuation">(</span>Math<span class="token punctuation">,</span> <span class="token string">&#39;random&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mockReturnValue</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 특정 값으로 모의</span></span>
<span class="line">  race<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span>cars<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// ... 테스트 로직 ...</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-14" tabindex="-1"><a class="header-anchor" href="#해결책-14"><span>해결책</span></a></h3><p>전략 패턴을 활용하여 이동 조건을 외부에서 함수 형태로 주입받도록 변경하고, 테스트 시에는 예측 가능한 전략을 주입하여 테스트의 신뢰성을 높입니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// Race.js</span></span>
<span class="line"><span class="token function">race</span><span class="token punctuation">(</span><span class="token parameter">cars<span class="token punctuation">,</span> moveStrategy <span class="token operator">=</span> Car<span class="token punctuation">.</span>defaultMoveStrategy</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  cars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> shouldMove <span class="token operator">=</span> <span class="token function">moveStrategy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>shouldMove<span class="token punctuation">)</span> car<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Car.js</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token constant">MOVE_THRESHOLD</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token function-variable function">defaultMoveStrategy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> Car<span class="token punctuation">.</span><span class="token constant">MOVE_THRESHOLD</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Race.test.js</span></span>
<span class="line"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;항상 이동하는 전략으로 실행하면 모든 자동차가 전진한다&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> cars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&#39;pobi&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&#39;woni&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">alwaysMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">  race<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span>cars<span class="token punctuation">,</span> alwaysMove<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  cars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> <span class="token function">expect</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;항상 멈추는 전략으로 실행하면 모든 자동차가 멈춘다&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> cars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&#39;pobi&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&#39;woni&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">neverMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">  race<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span>cars<span class="token punctuation">,</span> neverMove<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  cars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> <span class="token function">expect</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-14" tabindex="-1"><a class="header-anchor" href="#얻는-효과-14"><span>얻는 효과</span></a></h3><ul><li>구현 세부 사항이 아닌 동작에 기반한 테스트 작성 가능</li><li>테스트 코드의 안정성 및 예측 가능성 향상</li><li>모의 객체 사용의 복잡성 감소</li><li>다양한 이동 전략에 대한 테스트 용이성 확보</li></ul><h2 id="_16-함수형-사고-출력-형식-개선" tabindex="-1"><a class="header-anchor" href="#_16-함수형-사고-출력-형식-개선"><span>16. 함수형 사고: 출력 형식 개선</span></a></h2><h3 id="문제점-15" tabindex="-1"><a class="header-anchor" href="#문제점-15"><span>문제점</span></a></h3><p>중첩된 <code>forEach</code> 루프는 코드의 가독성을 떨어뜨리고, 각 차량의 진행 상태를 출력하는 로직이 해당 메서드에 직접 결합되어 있어 변경에 취약합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token function">printRaceResult</span><span class="token punctuation">(</span><span class="token parameter">results</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;실행 결과&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  results<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">roundResult</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    roundResult<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>car<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token string">&#39;-&#39;</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-15" tabindex="-1"><a class="header-anchor" href="#해결책-15"><span>해결책</span></a></h3><p><code>map</code> 메서드를 활용하여 데이터 변환 로직을 분리하고, 출력 형식을 더 명확하게 표현합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token function">printRaceResult</span><span class="token punctuation">(</span><span class="token parameter">results</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;실행 결과&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  results<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">roundResult</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> output <span class="token operator">=</span> roundResult</span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>car<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token string">&#39;-&#39;</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;\\n&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-15" tabindex="-1"><a class="header-anchor" href="#얻는-효과-15"><span>얻는 효과</span></a></h3><ul><li>데이터 변환과 출력 로직의 분리</li><li>코드의 가독성 및 이해도 향상</li><li>함수형 프로그래밍 패러다임 적용</li><li>데이터 처리 흐름의 명확성 증대</li></ul><h2 id="_17-유연한-함수-설계-인자-활용" tabindex="-1"><a class="header-anchor" href="#_17-유연한-함수-설계-인자-활용"><span>17. 유연한 함수 설계: 인자 활용</span></a></h2><h3 id="문제점-16" tabindex="-1"><a class="header-anchor" href="#문제점-16"><span>문제점</span></a></h3><p>함수가 특정 범위의 난수만 생성하도록 고정되어 있어 다른 범위의 난수가 필요할 경우 함수를 수정해야 합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getRandomNumber</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0부터 9 사이의 난수만 생성</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-16" tabindex="-1"><a class="header-anchor" href="#해결책-16"><span>해결책</span></a></h3><p>함수가 인자를 통해 난수의 범위를 지정할 수 있도록 설계하여 함수의 유연성을 높입니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getRandomNumber</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">max <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> min <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-16" tabindex="-1"><a class="header-anchor" href="#얻는-효과-16"><span>얻는 효과</span></a></h3><ul><li>함수의 재사용성 향상</li><li>다양한 범위의 난수 생성 요구사항에 유연하게 대처 가능</li><li>기본값 설정을 통한 하위 호환성 유지</li><li>코드의 의도 명확화</li></ul><h2 id="_18-적절한-추상화-함수-vs-클래스" tabindex="-1"><a class="header-anchor" href="#_18-적절한-추상화-함수-vs-클래스"><span>18. 적절한 추상화: 함수 vs 클래스</span></a></h2><h3 id="문제점-17" tabindex="-1"><a class="header-anchor" href="#문제점-17"><span>문제점</span></a></h3><p>모든 메서드가 <code>static</code>인 클래스는 인스턴스 생성이 불필요하며, 객체지향적인 관점에서 상태나 행위를 모델링하지 않는 경우 함수 모듈로 변경하는 것이 더 적절할 수 있습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">TryNumberValidator</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token constant">MIN_TRY_NUMBER</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token constant">MAX_TRY_NUMBER</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token constant">ERROR_MESSAGE</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token constant">RANGE</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">[ERROR] 시도 횟수는 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>TryNumberValidator<span class="token punctuation">.</span><span class="token constant">MIN_TRY_NUMBER</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 이상 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>TryNumberValidator<span class="token punctuation">.</span><span class="token constant">MAX_TRY_NUMBER</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 이하의 숫자만 가능합니다.</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token constant">NOT_INTEGER</span><span class="token operator">:</span> <span class="token string">&#39;[ERROR] 시도 횟수는 정수여야 합니다.&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">static</span> <span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">tryNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#validateRange</span><span class="token punctuation">(</span>tryNumber<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#validateInteger</span><span class="token punctuation">(</span>tryNumber<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">static</span> <span class="token function">#validateRange</span><span class="token punctuation">(</span><span class="token parameter">tryNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>tryNumber <span class="token operator">&lt;</span> TryNumberValidator<span class="token punctuation">.</span><span class="token constant">MIN_TRY_NUMBER</span> <span class="token operator">||</span> tryNumber <span class="token operator">&gt;</span> TryNumberValidator<span class="token punctuation">.</span><span class="token constant">MAX_TRY_NUMBER</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>TryNumberValidator<span class="token punctuation">.</span><span class="token constant">ERROR_MESSAGE</span><span class="token punctuation">.</span><span class="token constant">RANGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">static</span> <span class="token function">#validateInteger</span><span class="token punctuation">(</span><span class="token parameter">tryNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>tryNumber<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>TryNumberValidator<span class="token punctuation">.</span><span class="token constant">ERROR_MESSAGE</span><span class="token punctuation">.</span><span class="token constant">NOT_INTEGER</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-17" tabindex="-1"><a class="header-anchor" href="#해결책-17"><span>해결책</span></a></h3><p>인스턴스 상태나 행위를 다루지 않는 유틸리티성 메서드들은 함수 모듈로 분리하여 코드의 목적을 더 명확하게 드러냅니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// tryNumberValidator.js</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MIN_TRY_NUMBER</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MAX_TRY_NUMBER</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ERROR_MESSAGE</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token constant">RANGE</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">[ERROR] 시도 횟수는 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">MIN_TRY_NUMBER</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 이상 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">MAX_TRY_NUMBER</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 이하의 숫자만 가능합니다.</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token constant">NOT_INTEGER</span><span class="token operator">:</span> <span class="token string">&#39;[ERROR] 시도 횟수는 정수여야 합니다.&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">validateTryNumber</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">tryNumber</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">validateRange</span><span class="token punctuation">(</span>tryNumber<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">validateInteger</span><span class="token punctuation">(</span>tryNumber<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">validateRange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">tryNumber</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>tryNumber <span class="token operator">&lt;</span> <span class="token constant">MIN_TRY_NUMBER</span> <span class="token operator">||</span> tryNumber <span class="token operator">&gt;</span> <span class="token constant">MAX_TRY_NUMBER</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token constant">ERROR_MESSAGE</span><span class="token punctuation">.</span><span class="token constant">RANGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">validateInteger</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">tryNumber</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>tryNumber<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token constant">ERROR_MESSAGE</span><span class="token punctuation">.</span><span class="token constant">NOT_INTEGER</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-17" tabindex="-1"><a class="header-anchor" href="#얻는-효과-17"><span>얻는 효과</span></a></h3><ul><li>코드의 목적과 구조를 일치시켜 가독성 향상</li><li>불필요한 인스턴스 생성을 방지하여 효율성 증대</li><li>함수형 프로그래밍 방식의 장점 활용</li><li>테스트 작성 용이성 향상</li></ul><h2 id="_19-안정적인-객체-관리-방어적-배열-복사" tabindex="-1"><a class="header-anchor" href="#_19-안정적인-객체-관리-방어적-배열-복사"><span>19. 안정적인 객체 관리: 방어적 배열 복사</span></a></h2><h3 id="문제점-18" tabindex="-1"><a class="header-anchor" href="#문제점-18"><span>문제점</span></a></h3><p>객체의 내부 배열을 직접 반환하면 외부에서 해당 배열을 수정하여 객체의 불변성을 해치고 예기치 않은 부작용을 발생시킬 수 있습니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">get</span> <span class="token function">cars</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#cars<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-18" tabindex="-1"><a class="header-anchor" href="#해결책-18"><span>해결책</span></a></h3><p>배열을 복사하여 반환함으로써 외부의 직접적인 수정을 방지하고 객체의 내부 상태를 보호합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">get</span> <span class="token function">cars</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>#cars<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 얕은 복사</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-18" tabindex="-1"><a class="header-anchor" href="#얻는-효과-18"><span>얻는 효과</span></a></h3><ul><li>객체의 내부 상태를 외부로부터 보호</li><li>캡슐화 원칙 준수</li><li>예상치 못한 부작용 발생 방지</li><li>불변성 확보로 디버깅 용이성 향상</li></ul><h2 id="_20-추상화-수준-일치-인터페이스-설계" tabindex="-1"><a class="header-anchor" href="#_20-추상화-수준-일치-인터페이스-설계"><span>20. 추상화 수준 일치: 인터페이스 설계</span></a></h2><h3 id="문제점-19" tabindex="-1"><a class="header-anchor" href="#문제점-19"><span>문제점</span></a></h3><p>메서드가 구체적인 구현 세부 사항(예: <code>randomNumbers</code> 배열의 인덱스)에 직접 의존하면 전진 조건 변경 시 메서드의 인터페이스도 함께 변경되어야 합니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token function">#getRoundResult</span><span class="token punctuation">(</span><span class="token parameter">randomNumbers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> roundResult <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span>#cars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">car<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#shouldMove</span><span class="token punctuation">(</span>randomNumbers<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      car<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    roundResult<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> car<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> car<span class="token punctuation">.</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> roundResult<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="해결책-19" tabindex="-1"><a class="header-anchor" href="#해결책-19"><span>해결책</span></a></h3><p>더 높은 수준의 추상화를 제공하는 인터페이스를 설계하고, 구체적인 구현 세부 사항은 메서드 내부로 숨깁니다.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token function">#getRoundResult</span><span class="token punctuation">(</span><span class="token parameter">moveStrategy</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> roundResult <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span>#cars<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">car</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">moveStrategy</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      car<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    roundResult<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> car<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> car<span class="token punctuation">.</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> roundResult<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 사용 예시</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">randomMoveStrategy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0.4</span><span class="token punctuation">;</span></span>
<span class="line">race<span class="token punctuation">.</span><span class="token function">#getRoundResult</span><span class="token punctuation">(</span>randomMoveStrategy<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">nameLengthBasedStrategy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">car</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> car<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line">race<span class="token punctuation">.</span><span class="token function">#getRoundResult</span><span class="token punctuation">(</span>nameLengthBasedStrategy<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="얻는-효과-19" tabindex="-1"><a class="header-anchor" href="#얻는-효과-19"><span>얻는 효과</span></a></h3><ul><li>메서드 인터페이스의 안정성 향상</li><li>구현 세부 사항의 캡슐화</li><li>다양한 이동 전략 적용 용이성</li><li>테스트 코드의 유연성 확보</li></ul><h2 id="결론" tabindex="-1"><a class="header-anchor" href="#결론"><span>결론</span></a></h2><p>지금까지 자동차 경주 미션 코드 리뷰를 통해 발견한 20가지 코드 개선 패턴을 살펴보았습니다. 이러한 패턴들은 객체지향 설계 원칙, 관심사 분리, 유연한 설계, 테스트 용이성, 그리고 코드의 가독성과 유지보수성 향상이라는 핵심 목표를 중심으로 합니다.</p><p>이 글에서 제시된 패턴들을 여러분의 코드에 적용함으로써 더욱 견고하고 확장 가능하며 유지보수가 용이한 소프트웨어를 개발하는 데 도움이 되기를 바랍니다. 지속적인 코드 리뷰와 리팩토링을 통해 코드 품질을 꾸준히 개선해 나가는 것이 중요합니다.</p>`,184);function m(b,h){const a=t("ExternalLinkIcon");return e(),c("div",null,[r,k,n("p",null,[s("이 글은 "),n("a",d,[s("자동차 경주 미션 코드 리뷰"),l(a)]),s(" 과정에서 발견된 20가지 중요한 코드 개선 패턴을 담고 있습니다. 각 패턴은 실제 리뷰에서 논의되었던 문제 상황과 그에 대한 해결 방안을 명확하게 제시합니다. 제시된 패턴들을 이해하고 실제 코드에 적용한다면, 코드의 품질을 한 단계 더 끌어올릴 수 있을 것입니다.")]),v])}const y=p(u,[["render",m],["__file","index.html.vue"]]),w=JSON.parse('{"path":"/with-ai/code-review/woowacourse/racing-car/","title":"자동차 경주 미션을 통해 산출된 코드 리뷰","lang":"en-US","frontmatter":{"title":"자동차 경주 미션을 통해 산출된 코드 리뷰","description":"우아한 테크코스 리뷰어로 참여하면서 남긴 피드백을 정리한 내용입니다.","sidebarDepth":1,"date":"2025-04-08T00:00:00.000Z","tag":"클린코드, 피드백 정리, with-ai","thumbnail":"https://raw.githubusercontent.com/JunilHwang/TIL/master/with-ai/code-review/woowacourse/racing-car/1.png"},"headers":[{"level":2,"title":"1. 캡슐화: Private 필드와 테스트","slug":"_1-캡슐화-private-필드와-테스트","link":"#_1-캡슐화-private-필드와-테스트","children":[{"level":3,"title":"문제점","slug":"문제점","link":"#문제점","children":[]},{"level":3,"title":"해결책","slug":"해결책","link":"#해결책","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과","link":"#얻는-효과","children":[]}]},{"level":2,"title":"2. 관심사의 분리: 도메인 로직과 I/O","slug":"_2-관심사의-분리-도메인-로직과-i-o","link":"#_2-관심사의-분리-도메인-로직과-i-o","children":[{"level":3,"title":"문제점","slug":"문제점-1","link":"#문제점-1","children":[]},{"level":3,"title":"해결책","slug":"해결책-1","link":"#해결책-1","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-1","link":"#얻는-효과-1","children":[]}]},{"level":2,"title":"3. 객체의 책임: 상태 검증","slug":"_3-객체의-책임-상태-검증","link":"#_3-객체의-책임-상태-검증","children":[{"level":3,"title":"문제점","slug":"문제점-2","link":"#문제점-2","children":[]},{"level":3,"title":"해결책","slug":"해결책-2","link":"#해결책-2","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-2","link":"#얻는-효과-2","children":[]}]},{"level":2,"title":"4. 유연한 설계: 전진 조건 전략 패턴","slug":"_4-유연한-설계-전진-조건-전략-패턴","link":"#_4-유연한-설계-전진-조건-전략-패턴","children":[{"level":3,"title":"문제점","slug":"문제점-3","link":"#문제점-3","children":[]},{"level":3,"title":"해결책","slug":"해결책-3","link":"#해결책-3","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-3","link":"#얻는-효과-3","children":[]}]},{"level":2,"title":"5. 명확한 표현: 테스트 코드의 가독성","slug":"_5-명확한-표현-테스트-코드의-가독성","link":"#_5-명확한-표현-테스트-코드의-가독성","children":[{"level":3,"title":"문제점","slug":"문제점-4","link":"#문제점-4","children":[]},{"level":3,"title":"해결책","slug":"해결책-4","link":"#해결책-4","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-4","link":"#얻는-효과-4","children":[]}]},{"level":2,"title":"6. 응집도 향상: 상수 위치의 중요성","slug":"_6-응집도-향상-상수-위치의-중요성","link":"#_6-응집도-향상-상수-위치의-중요성","children":[{"level":3,"title":"문제점","slug":"문제점-5","link":"#문제점-5","children":[]},{"level":3,"title":"해결책","slug":"해결책-5","link":"#해결책-5","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-5","link":"#얻는-효과-5","children":[]}]},{"level":2,"title":"7. 명확한 분류: 커스텀 에러 클래스","slug":"_7-명확한-분류-커스텀-에러-클래스","link":"#_7-명확한-분류-커스텀-에러-클래스","children":[{"level":3,"title":"문제점","slug":"문제점-6","link":"#문제점-6","children":[]},{"level":3,"title":"해결책","slug":"해결책-6","link":"#해결책-6","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-6","link":"#얻는-효과-6","children":[]}]},{"level":2,"title":"8. 의미 있는 데이터: 테스트 코드 개선","slug":"_8-의미-있는-데이터-테스트-코드-개선","link":"#_8-의미-있는-데이터-테스트-코드-개선","children":[{"level":3,"title":"문제점","slug":"문제점-7","link":"#문제점-7","children":[]},{"level":3,"title":"해결책","slug":"해결책-7","link":"#해결책-7","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-7","link":"#얻는-효과-7","children":[]}]},{"level":2,"title":"9. 흐름 제어: Generator 활용","slug":"_9-흐름-제어-generator-활용","link":"#_9-흐름-제어-generator-활용","children":[{"level":3,"title":"문제점","slug":"문제점-8","link":"#문제점-8","children":[]},{"level":3,"title":"해결책","slug":"해결책-8","link":"#해결책-8","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-8","link":"#얻는-효과-8","children":[]}]},{"level":2,"title":"10. 명확한 초기화: 멤버 변수","slug":"_10-명확한-초기화-멤버-변수","link":"#_10-명확한-초기화-멤버-변수","children":[{"level":3,"title":"문제점","slug":"문제점-9","link":"#문제점-9","children":[]},{"level":3,"title":"해결책","slug":"해결책-9","link":"#해결책-9","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-9","link":"#얻는-효과-9","children":[]}]},{"level":2,"title":"11. 간결한 표현: 배열 메서드 활용","slug":"_11-간결한-표현-배열-메서드-활용","link":"#_11-간결한-표현-배열-메서드-활용","children":[{"level":3,"title":"문제점","slug":"문제점-10","link":"#문제점-10","children":[]},{"level":3,"title":"해결책","slug":"해결책-10","link":"#해결책-10","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-10","link":"#얻는-효과-10","children":[]}]},{"level":2,"title":"12. 논리적 단순화: 불필요한 조건문 제거","slug":"_12-논리적-단순화-불필요한-조건문-제거","link":"#_12-논리적-단순화-불필요한-조건문-제거","children":[{"level":3,"title":"문제점","slug":"문제점-11","link":"#문제점-11","children":[]},{"level":3,"title":"해결책","slug":"해결책-11","link":"#해결책-11","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-11","link":"#얻는-효과-11","children":[]}]},{"level":2,"title":"13. 명확한 의미 전달: 에러 메시지 네이밍","slug":"_13-명확한-의미-전달-에러-메시지-네이밍","link":"#_13-명확한-의미-전달-에러-메시지-네이밍","children":[{"level":3,"title":"문제점","slug":"문제점-12","link":"#문제점-12","children":[]},{"level":3,"title":"해결책","slug":"해결책-12","link":"#해결책-12","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-12","link":"#얻는-효과-12","children":[]}]},{"level":2,"title":"14. 설계의 일관성: 도메인 상수 위치","slug":"_14-설계의-일관성-도메인-상수-위치","link":"#_14-설계의-일관성-도메인-상수-위치","children":[{"level":3,"title":"문제점","slug":"문제점-13","link":"#문제점-13","children":[]},{"level":3,"title":"해결책","slug":"해결책-13","link":"#해결책-13","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-13","link":"#얻는-효과-13","children":[]}]},{"level":2,"title":"15. 테스트 용이성: 의존성 주입 활용","slug":"_15-테스트-용이성-의존성-주입-활용","link":"#_15-테스트-용이성-의존성-주입-활용","children":[{"level":3,"title":"문제점","slug":"문제점-14","link":"#문제점-14","children":[]},{"level":3,"title":"해결책","slug":"해결책-14","link":"#해결책-14","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-14","link":"#얻는-효과-14","children":[]}]},{"level":2,"title":"16. 함수형 사고: 출력 형식 개선","slug":"_16-함수형-사고-출력-형식-개선","link":"#_16-함수형-사고-출력-형식-개선","children":[{"level":3,"title":"문제점","slug":"문제점-15","link":"#문제점-15","children":[]},{"level":3,"title":"해결책","slug":"해결책-15","link":"#해결책-15","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-15","link":"#얻는-효과-15","children":[]}]},{"level":2,"title":"17. 유연한 함수 설계: 인자 활용","slug":"_17-유연한-함수-설계-인자-활용","link":"#_17-유연한-함수-설계-인자-활용","children":[{"level":3,"title":"문제점","slug":"문제점-16","link":"#문제점-16","children":[]},{"level":3,"title":"해결책","slug":"해결책-16","link":"#해결책-16","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-16","link":"#얻는-효과-16","children":[]}]},{"level":2,"title":"18. 적절한 추상화: 함수 vs 클래스","slug":"_18-적절한-추상화-함수-vs-클래스","link":"#_18-적절한-추상화-함수-vs-클래스","children":[{"level":3,"title":"문제점","slug":"문제점-17","link":"#문제점-17","children":[]},{"level":3,"title":"해결책","slug":"해결책-17","link":"#해결책-17","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-17","link":"#얻는-효과-17","children":[]}]},{"level":2,"title":"19. 안정적인 객체 관리: 방어적 배열 복사","slug":"_19-안정적인-객체-관리-방어적-배열-복사","link":"#_19-안정적인-객체-관리-방어적-배열-복사","children":[{"level":3,"title":"문제점","slug":"문제점-18","link":"#문제점-18","children":[]},{"level":3,"title":"해결책","slug":"해결책-18","link":"#해결책-18","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-18","link":"#얻는-효과-18","children":[]}]},{"level":2,"title":"20. 추상화 수준 일치: 인터페이스 설계","slug":"_20-추상화-수준-일치-인터페이스-설계","link":"#_20-추상화-수준-일치-인터페이스-설계","children":[{"level":3,"title":"문제점","slug":"문제점-19","link":"#문제점-19","children":[]},{"level":3,"title":"해결책","slug":"해결책-19","link":"#해결책-19","children":[]},{"level":3,"title":"얻는 효과","slug":"얻는-효과-19","link":"#얻는-효과-19","children":[]}]},{"level":2,"title":"결론","slug":"결론","link":"#결론","children":[]}],"git":{"updatedTime":1750205275000},"filePathRelative":"with-ai/code-review/woowacourse/racing-car/README.md"}');export{y as comp,w as data};
